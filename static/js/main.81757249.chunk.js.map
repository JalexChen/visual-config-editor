{"version":3,"sources":["state/Hooks.tsx","components/panes/EditorPane.tsx","components/panes/NavigationPane.tsx","icons/components/CommandIcon.tsx","components/atoms/summaries/CommandSummary.tsx","components/atoms/form/InspectorProperty.tsx","icons/ui/DeleteItemIcon.tsx","icons/ui/DragItemIcon.tsx","icons/ui/ExpandIcon.tsx","components/containers/CollapsibleList.tsx","components/atoms/form/ListProperty.tsx","icons/ui/BreadCrumbArrowIcon.tsx","components/containers/BreadCrumbs.tsx","components/containers/inspector/subtypes/CommandSubtypes.tsx","components/menus/TabbedMenu.tsx","components/menus/definitions/StepDefinitionMenu.tsx","components/menus/definitions/subtypes/StepTypePage.tsx","components/menus/SubTypeMenu.tsx","components/containers/inspector/CommandInspector.tsx","components/containers/inspector/subtypes/ParameterSubtypes.tsx","mappings/CommandMapping.tsx","icons/components/ExecutorIcon.tsx","components/atoms/summaries/ExecutorSummary.tsx","components/containers/inspector/subtypes/ExecutorSubtypes.tsx","components/containers/inspector/ExecutorInspector.tsx","components/menus/definitions/subtypes/ExecutorTypePage.tsx","icons/components/JobIcon.tsx","icons/ui/PlusIcon.tsx","icons/components/WorkflowIcon.tsx","mappings/JobMapping.tsx","components/atoms/nodes/JobNode.tsx","components/atoms/summaries/JobSummary.tsx","components/containers/inspector/JobInspector.tsx","mappings/ExecutorMapping.tsx","icons/components/ParameterIcon.tsx","mappings/ParameterMapping.tsx","components/menus/definitions/subtypes/ParameterTypePage.tsx","components/atoms/summaries/ParameterSummary.tsx","components/containers/inspector/ParameterInspector.tsx","mappings/ComponentMapping.tsx","components/atoms/ConnectionLine.tsx","components/atoms/Edge.tsx","components/containers/WorkflowContainer.tsx","components/panes/WorkflowsPane.tsx","components/menus/definitions/EditDefinitionMenu.tsx","components/atoms/Definition.tsx","components/containers/ParametersContainer.tsx","components/menus/definitions/CreateDefinitionMenu.tsx","components/containers/DefinitionsContainer.tsx","components/menus/definitions/DefinitionsMenu.tsx","state/Store.tsx","App.tsx","index.tsx"],"names":["typedHooks","createTypedHooks","useStoreActions","useStoreState","useStoreDispatch","EditorPane","config","state","editingConfig","configYAML","yml","matchSDKComment","match","index","endOfSDKComment","length","substring","className","theme","language","original","modified","value","NavigationPane","navigation","NavPage","component","Component","props","CommandIcon","xmlns","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","CommandSummary","data","name","InspectorProperty","label","useField","field","type","required","children","DeleteItemIcon","fillRule","clipRule","color","DragItemIcon","ExpandIcon","expanded","CollapsibleList","useState","setExpanded","onClick","e","newExpanded","onChange","title","titleExpanded","ListProperty","values","emptyText","description","render","arrayHelper","onDragEnd","result","destination","move","source","droppableId","provided","snapshot","droppableProps","ref","innerRef","map","cmd","draggableId","draggableProps","dragHandleProps","remove","placeholder","BreadCrumbArrowIcon","BreadCrumbs","navigateBack","actions","components","navAt","depth","curDepth","push","distance","Label","Icon","from","undefined","reverse","commandSubtypes","run","text","summary","command","parameters","fields","as","generate","commands","Run","checkout","Checkout","persist_to_workspace","workspace","Persist","root","paths","path","attach_workspace","Attach","store_artifacts","StoreArtifacts","store_test_results","StoreTestResults","save_cache","cache","Save","key","when","TabbedMenu","activeTab","setActiveTab","tabs","tab","Array","isArray","StepPropertiesMenu","builtIn","subtype","builtInSubtype","customCommand","initialValues","enableReinitialize","onSubmit","apply","steps","reusable","ReusableCommand","formikProps","selectSubtype","StepTypePageNav","definitions","Object","keys","setSubtype","SubTypeMenuNav","SubTypeSelectPage","typePage","SubTypeMenuPage","menuPage","current","previous","menuProps","typeProps","selected","CommandInspector","navigateTo","passThrough","dataType","CommandMapping","parameterSubtypes","string","boolean","integer","enum","executor","executors","env_var_name","componentParametersSubtypes","pipeline","types","job","singular","plural","defaults","transform","CustomCommand","store","get","add","defineCommand","update","updateCommand","undefineCommand","icon","inspector","ExecutorIcon","id","cx","cy","r","ExecutorSummary","executorSubtypes","docker","resourceClasses","machine","macos","windows","ExecutorInspector","resourceClass","ExecutorTypePageNav","JobIcon","PlusIcon","filled","maskUnits","x","y","width","height","mask","WorkflowIcon","JobMapping","find","Job","jobs","defineJob","updateJob","undefineJob","dragTarget","node","params","WorkflowJob","elements","workflows","selectedWorkflow","dragging","setConnecting","connecting","updateConnecting","React","handles","requiredBy","requires","hovering","setHovering","trackHovering","entering","leaving","postEnter","postLeave","onMouseEnter","reduce","n","onMouseLeave","nodeRef","useRef","connectionNodeId","connectionHandleType","connectionHandleId","onDragOver","preventDefault","onDrop","applyToNode","applyToData","old","new","workflowJob","element","isNode","updateWorkflowJob","start","draggable","onDragStart","position","Position","Right","Left","StepTypePage","ExecutorMapping","image","resource_class","xcode","subtypes","DockerExecutor","MachineExecutor","MacOSExecutor","WindowsExecutor","ReusableExecutor","defineExecutor","updateExecutor","undefineExecutor","nodeData","oldJob","ParameterIcon","ParameterMapping","CustomParameter","defaultValue","defineParameter","updateParameter","undefineParameter","console","log","dataMappings","mapping","ConnectionLine","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition","connectionLineType","connectionLineStyle","flowState","handle","bounds","getBoundingClientRect","startX","startY","endX","endY","dist","invalid","end","snapTo","snapToBounds","Edge","style","gap","arrowHeadType","markerEndId","WorkflowPane","zoom","setTransform","addWorkflowElement","setWorkflowElements","connectingTo","setConnectingTo","handleMouseUp","targetJob","startName","addEdge","target","sourceHandle","targetHandle","animated","useEffect","window","addEventListener","removeEventListener","NodesDebugger","flowActions","setConnectionNodeId","setConnectingPosition","setConnectionPosition","onDrag","onMouseMove","containerBounds","closest","clientX","left","clientY","top","nodeMapping","pos","round","val","Math","floor","workflowNode","v4","connectable","dragHandle","onMove","selectNodesOnDrag","nodeTypes","assign","edgeTypes","snapToGrid","connectionMode","ConnectionMode","Loose","connectionLineComponent","variant","BackgroundVariant","Dots","bgClassName","size","WorkflowsPane","selectWorkflow","workflow","num","EditDefinitionMenuNav","dataMapping","error","getIcon","iconComponent","Definition","Summary","setDragging","EditDefinitionMenu","ParameterContainer","arrayHelpers","CreateDefinitionMenu","passBackKey","parameter","generateConfig","validateOnBlur","validate","newDefinition","CreateDefinitionMenuNav","DefinitionIcon","DefinitionsContainer","items","item","DefinitionsMenuNav","workflowGraphs","updateConfig","persistProps","isExpanded","i","Actions","action","payload","setPlaceholder","curNav","jumpedFrom","travelTo","Error","DefinitionsMenu","addWorkflow","concat","removeWorkflow","filter","removeWorkflowElement","flow","Workflow","defs","Config","CustomParametersList","stringify","Store","App","createStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.81757249.chunk.js","sourcesContent":["import { createTypedHooks } from 'easy-peasy';\nimport { StoreActions, StoreModel } from './Store';\n\nconst typedHooks = createTypedHooks<StoreModel & StoreActions>();\n\nexport const useStoreActions = typedHooks.useStoreActions;\nexport const useStoreDispatch = typedHooks.useStoreDispatch;\nexport const useStoreState = typedHooks.useStoreState;\n","import Editor, { DiffEditor } from '@monaco-editor/react';\nimport { useStoreState } from '../../state/Hooks';\n\nconst EditorPane = () => {\n  const config = useStoreState((state) => state.config);\n  const editingConfig = useStoreState((state) => state.editingConfig);\n\n  const configYAML = (yml: string) => {\n    const matchSDKComment = yml?.match('# SDK Version: .*\\n');\n\n    if (yml && matchSDKComment && matchSDKComment.index) {\n      const comment = `# VCE Version: 0.2.0\\n# Modeled with the CircleCI visual config editor.\\n# For more information, see https://github.com/CircleCI-Public/visual-config-editor\\n`;\n      const endOfSDKComment = matchSDKComment.index + matchSDKComment[0].length;\n\n      return (\n        yml.substring(0, endOfSDKComment) +\n        comment +\n        yml.substring(endOfSDKComment, yml.length)\n      );\n    }\n\n    return yml;\n  };\n\n  return (\n    <div className=\"bg-circle-gray-900 h-2/5 w-full flex flex-col\">\n      <div className=\"border-b text-xl border-circle-gray-800 font-bold\">\n        <div className=\"ml-4 border-b-4 px-3 py-3 w-max text-sm tracking-wide font-bold text-white border-white\">\n          CONFIG\n        </div>\n      </div>\n      <div className=\"flex-1 overflow-hidden\">\n        {\n          editingConfig ?\n            (<DiffEditor\n              theme=\"vs-dark\"\n              language=\"yaml\"\n              original={config && configYAML(config)}\n              modified={editingConfig && configYAML(editingConfig)}\n            />)\n            :\n            (<Editor\n              theme=\"vs-dark\"\n              language=\"yaml\"\n              value={config && configYAML(config)}\n            />\n            )\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default EditorPane;\n","import { useStoreState } from '../../state/Hooks';\n\n/**\n * @see\n * @returns\n */\nconst NavigationPane = () => {\n  const navigation = useStoreState((state) => state.navigation);\n  const NavPage = navigation.component.Component;\n\n  return (\n    <div className=\"h-full border-l border-circle-gray-300 w-80 pt-6 bg-white flex flex-col overflow-y-hidden\">\n      <NavPage {...navigation.props} />\n    </div>\n  );\n};\n\nexport default NavigationPane;\n","import { IconProps } from '../IconProps';\n\nconst CommandIcon = (props: IconProps) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    className={props.className}\n    fill=\"none\"\n    stroke=\"black\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n    />\n  </svg>\n);\n\nexport default CommandIcon;\n","import { CustomCommand } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Commands/exports/Reusable';\nimport CommandIcon from '../../../icons/components/CommandIcon';\n\nconst CommandSummary: React.FunctionComponent<{ data: CustomCommand }> = (\n  props,\n) => {\n  return (\n    <div className=\"flex flex-row\">\n      <CommandIcon className=\"ml-1 mr-2 w-5 h-5\"/> {props.data.name}\n    </div>\n  );\n};\n\nexport default CommandSummary;\n","import { Field, useField } from 'formik';\nimport { ReactElement } from 'react';\n\nexport interface InspectorFieldProps {\n  label: string;\n  name: any;\n  as?: string;\n  type?: string;\n  value?: any;\n  required?: boolean;\n  onChange?: (e: any) => void;\n  children?: ReactElement[] | ReactElement;\n}\n\nconst InspectorProperty = ({ label, ...props }: InspectorFieldProps) => {\n  const [field] = useField(props);\n  return (\n    <div className={`${props.type === 'checkbox' && `flex flex-row`} mb-3`}>\n      <div className=\"flex flex-row mb-2\">\n        <p className=\"font-bold leading-5 tracking-wide\">{label}</p>\n        {props.required && (\n          <span className=\"ml-auto tracking-wide leading-6 text-sm text-circle-gray-400 font-medium\">\n            Required\n          </span>\n        )}\n      </div>\n      <Field\n        {...field}\n        {...props}\n        className={`${props.type !== 'checkbox' ? 'w-full' : 'ml-auto'} \n             border-circle-gray-300 border-2 rounded p-1 `}\n      >\n        {props.children}\n      </Field>\n    </div>\n  );\n};\n\nexport default InspectorProperty;\n","import { IconProps } from '../IconProps';\n\nconst DeleteItemIcon = (props: IconProps) => (\n  <svg viewBox=\"0 0 12 12\" className={props.className}>\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M7.42616 6L11.7046 10.2785C12.0985 10.6723 12.0985 11.3108 11.7046 11.7046C11.3108 12.0985 10.6723 12.0985 10.2785 11.7046L6 7.42616L1.72153 11.7046C1.3277 12.0985 0.68919 12.0985 0.295367 11.7046C-0.0984557 11.3108 -0.0984557 10.6723 0.295367 10.2785L4.57384 6L0.295367 1.72153C-0.0984557 1.3277 -0.0984557 0.68919 0.295367 0.295367C0.68919 -0.0984557 1.3277 -0.0984557 1.72153 0.295367L6 4.57384L10.2785 0.295367C10.6723 -0.0984557 11.3108 -0.0984557 11.7046 0.295367C12.0985 0.68919 12.0985 1.3277 11.7046 1.72153L7.42616 6V6Z\"\n      fill={props.color}\n    />\n  </svg>\n);\n\nexport default DeleteItemIcon;\n","import { IconProps } from '../IconProps';\n\nconst DragItemIcon = (props: IconProps) => (\n  <svg viewBox=\"0 0 16 6\" className={props.className} fill={props.color}>\n    <path d=\"M16 1C16 0.447715 15.5523 0 15 0H1C0.447715 0 0 0.447715 0 1C0 1.55228 0.447715 2 1 2H15C15.5523 2 16 1.55228 16 1ZM0 5C0 5.55228 0.447715 6 1 6H15C15.5523 6 16 5.55228 16 5C16 4.44772 15.5523 4 15 4H1C0.447715 4 0 4.44772 0 5Z\"></path>\n  </svg>\n);\n\nexport default DragItemIcon;\n","import { IconProps } from '../IconProps';\n\nconst ExpandIcon = (props: IconProps & { expanded: boolean }) => (\n  <svg viewBox=\"0 0 14 14\" className={props.className}>\n    <path\n      d={\n        props.expanded\n          ? 'M4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 Z'\n          : 'M6,11.7928932 L6,4.20710678 C6,3.93096441 6.22385763,3.70710678 6.5,3.70710678 C6.63260824,3.70710678 6.7597852,3.7597852 6.85355339,3.85355339 L10.6464466,7.64644661 C10.8417088,7.84170876 10.8417088,8.15829124 10.6464466,8.35355339 L6.85355339,12.1464466 C6.65829124,12.3417088 6.34170876,12.3417088 6.14644661,12.1464466 C6.05267842,12.0526784 6,11.9255015 6,11.7928932 Z'\n      }\n    ></path>\n  </svg>\n);\n\nexport default ExpandIcon;\n","import { ReactElement, useState } from 'react';\nimport ExpandIcon from '../../icons/ui/ExpandIcon';\n\nexport interface CollapsibleListProps {\n  title: string;\n  titleExpanded?: ReactElement;\n  children: ReactElement;\n  expanded?: boolean;\n  className?: string;\n  onChange?: (expanded: boolean) => void;\n}\n\nconst CollapsibleList = (props: CollapsibleListProps) => {\n  const [expanded, setExpanded] = useState(props.expanded || false);\n\n  return (\n    <div className={props.className}>\n      <div className=\"flex flex-row\">\n        <button\n          onClick={(e) => {\n            const newExpanded = !expanded;\n\n            setExpanded(newExpanded);\n            props.onChange && props.onChange(newExpanded);\n          }}\n          type=\"button\"\n          className=\"flex flex-row flex-1\"\n        >\n          <ExpandIcon className=\"w-3 h-5 mr-3\" expanded={expanded} />\n          <p className=\"font-bold leading-5 tracking-wide\">{props.title}</p>\n        </button>\n        {expanded && props.titleExpanded}\n      </div>\n      {expanded && <div className=\"ml-4\">{props.children}</div>}\n    </div>\n  );\n};\n\nexport default CollapsibleList;\n","import { FieldArray, useField } from 'formik';\nimport { ReactElement } from 'react';\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\nimport DeleteItemIcon from '../../../icons/ui/DeleteItemIcon';\nimport DragListIcon from '../../../icons/ui/DragItemIcon';\nimport CollapsibleList from '../../containers/CollapsibleList';\nimport { InspectorFieldProps } from './InspectorProperty';\n\nexport type ListPropertyProps = InspectorFieldProps & {\n  titleExpanded?: ReactElement;\n  values?: any;\n  description?: string;\n  expanded?: boolean;\n  emptyText?: string;\n};\n\nconst ListProperty = ({\n  label,\n  values,\n  description,\n  emptyText,\n  ...props\n}: InspectorFieldProps & ListPropertyProps) => {\n  const [field] = useField(props);\n  return (\n    <CollapsibleList\n      title={label}\n      titleExpanded={props.titleExpanded}\n      expanded={props.expanded}\n    >\n      {values?.length > 0 ? (\n        <FieldArray\n          {...field}\n          name={props.name}\n          render={(arrayHelper) => (\n            <DragDropContext\n              onDragEnd={(result) => {\n                if (result.destination) {\n                  arrayHelper.move(\n                    result.source.index,\n                    result.destination.index,\n                  );\n                }\n              }}\n            >\n              <Droppable droppableId=\"droppable\">\n                {(provided, snapshot) => (\n                  <div\n                    {...provided.droppableProps}\n                    ref={provided.innerRef}\n                    className=\"p-2 pr-0\"\n                  >\n                    {values?.map((cmd: any, index: number) => (\n                      <Draggable\n                        key={index}\n                        draggableId={`${index}`}\n                        index={index}\n                      >\n                        {(provided, snapshot) => (\n                          <div\n                            className=\"w-full mb-2 p-1 px-3 text-sm \n                      bg-white border border-circle-gray-300 rounded-md2 flex flex-row\"\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                          >\n                            <button\n                              className=\"flex-1 cursor-pointer text-left text-circle-black leading-6\"\n                              type=\"button\"\n                            >\n                              {cmd.name}\n                            </button>\n                            <div\n                              className=\"ml-auto mr-3\"\n                              {...provided.dragHandleProps}\n                            >\n                              <DragListIcon\n                                className=\"w-4 h-6 py-1\"\n                                color=\"#AAAAAA\"\n                              />\n                            </div>\n                            <button\n                              onClick={() => {\n                                arrayHelper.remove(index);\n                              }}\n                              type=\"button\"\n                              className=\"my-auto\"\n                            >\n                              <DeleteItemIcon\n                                className=\"w-3 h-3\"\n                                color=\"#AAAAAA\"\n                              />\n                            </button>\n                          </div>\n                        )}\n                      </Draggable>\n                    ))}\n                    {provided.placeholder}\n                  </div>\n                )}\n              </Droppable>\n            </DragDropContext>\n          )}\n        />\n      ) : (\n        <p className=\"ml-2 font-medium text-sm text-circle-gray-500\">\n          {emptyText}\n        </p>\n      )}\n    </CollapsibleList>\n  );\n};\n\nexport default ListProperty;\n","import { IconProps } from '../IconProps';\n\nconst BreadCrumbArrowIcon = (props: IconProps) => (\n  <svg viewBox=\"0 0 16 16\" className={props.className} fill={props.color}>\n    <path d=\"M11.6568842,7.24302798 C11.9577895,7.54393324 12.0268424,7.98889307 11.864043,8.35591473 C11.8154617,8.46509554 11.746442,8.56741392 11.6568842,8.65697164 C11.6570333,8.65709247 11.6569588,8.65716701 11.6568842,8.65724154 L6.70713677,13.606989 C6.31661248,13.9975133 5.6834475,13.9975133 5.29292321,13.606989 L5.29286323,13.606929 C4.90233894,13.2164047 4.90233894,12.5832398 5.29286323,12.1927155 L9.53557889,7.94999981 L5.29286323,3.70728415 C4.90233894,3.31675986 4.90233894,2.68359488 5.29286323,2.29307059 L5.29292321,2.29301061 C5.6834475,1.90248631 6.31661248,1.90248631 6.70713677,2.29301061 L11.6568842,7.24275807 C11.6569588,7.24283261 11.6570333,7.24290715 11.6571078,7.2429817 Z\"></path>\n  </svg>\n);\n\nexport default BreadCrumbArrowIcon;\n","import { ReactElement } from 'react';\nimport BreadCrumbArrowIcon from '../../icons/ui/BreadCrumbArrowIcon';\nimport { useStoreActions, useStoreState } from '../../state/Hooks';\nimport { NavigationModel } from '../../state/Store';\n\nconst BreadCrumbs = () => {\n  const navigation = useStoreState((state) => state.navigation);\n  const navigateBack = useStoreActions((actions) => actions.navigateBack);\n\n  let components: ReactElement[] = [];\n  let navAt: NavigationModel | undefined = navigation;\n  let depth = 0;\n\n  do {\n    const curDepth = depth;\n    if (depth > 0) {\n      components.push(\n        <BreadCrumbArrowIcon\n          className=\"pl-1 w-5 h-5\"\n          key={`breadcrumb-${curDepth}-arrow`}\n          color=\"#6A6A6A\"\n        />,\n      );\n    }\n\n    components.push(\n      <button\n        className={\n          curDepth === 0\n            ? 'font-medium text-black ml-1 cursor-default whitespace-nowrap'\n            : 'text-circle-gray-500 hover:underline hover:text-black overflow-ellipsis whitespace-nowrap'\n        }\n        key={`breadcrumb-${curDepth}-link`}\n        onClick={() => {\n          curDepth > 0 && navigateBack({ distance: curDepth });\n        }}\n      >\n        {curDepth > 1 ? '...' : navAt.component.Label(navAt.props)}\n      </button>,\n    );\n\n    if (navAt.component.Icon) {\n      const Icon = navAt.component.Icon(navAt.props);\n      Icon &&\n        components.push(<div key={`breadcrumb-${curDepth}-icon`}>{Icon}</div>);\n    }\n\n    depth++;\n    navAt = navAt.from;\n  } while (navAt !== undefined);\n\n  components.reverse();\n\n  return (\n    <nav className=\"px-6\">\n      <div className=\"flex items-center\">\n        {components.map((component) => component)}\n      </div>\n    </nav>\n  );\n};\n\nexport default BreadCrumbs;\n","import { commands } from '@circleci/circleci-config-sdk';\nimport { Command } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Commands/exports/Command';\nimport { Field } from 'formik';\nimport { ReactElement } from 'react';\nimport InspectorProperty from '../../../atoms/form/InspectorProperty';\n\nexport interface CommandSubTypes {\n  [command: string]: {\n    text: string;\n    description?: string;\n    summary?: (command: any) => ReactElement;\n    fields: ReactElement;\n    generate: (values: any) => Command;\n  };\n}\n\nconst commandSubtypes: CommandSubTypes = {\n  run: {\n    text: 'Run a command',\n    description: 'Used for invoking all command-line programs',\n    summary: (command) => (\n      <p className=\"inline\">{command.parameters.command}</p>\n    ),\n    fields: (\n      <div>\n        <InspectorProperty\n          label=\"Command\"\n          as=\"textarea\"\n          required\n          name=\"parameters.command\"\n        />\n        <InspectorProperty label=\"Shell\" name=\"parameters.shell\" />\n        <InspectorProperty\n          label=\"Background\"\n          type=\"checkbox\"\n          name=\"parameters.background\"\n        />\n        <InspectorProperty\n          label=\"Working Directory\"\n          name=\"parameters.working_directory\"\n        />\n        <InspectorProperty\n          label=\"No Output Timeout\"\n          name=\"parameters.no_output_timeout\"\n        />\n        <InspectorProperty label=\"When\" as=\"select\" name=\"parameters.when\">\n          <option value=\"undefined\">Select When</option>\n          <option value=\"always\">Always</option>\n          <option value=\"on_success\">On Success</option>\n          <option value=\"on_fail\">On Fail</option>\n        </InspectorProperty>\n      </div>\n    ),\n    generate: (values) => new commands.Run({ ...values.parameters }),\n  },\n  checkout: {\n    text: 'Checkout',\n    description:\n      'A special step used to check out source code to the configured path',\n    fields: <InspectorProperty label=\"Path\" name=\"parameters.path\" />,\n    generate: (values) => new commands.Checkout({ ...values.parameters }),\n  },\n  persist_to_workspace: {\n    text: 'Persist To Workspace',\n    description:\n      'Persist a temporary file to be used by another job in the workflow',\n    fields: (\n      <div>\n        <InspectorProperty label=\"Root\" name=\"parameters.root\" required />\n        <InspectorProperty label=\"Path\" name=\"parameters.path\" required />\n      </div>\n    ),\n    generate: (values) =>\n      new commands.workspace.Persist({\n        root: values.parameters.root,\n        paths: [values.parameters.path],\n      }),\n  },\n  attach_workspace: {\n    text: 'Attach Workspace',\n    description: 'Attach the workflow’s workspace to the current container',\n    fields: <InspectorProperty label=\"At\" name=\"parameters.at\" required />,\n    generate: (values) =>\n      new commands.workspace.Attach({ ...values.parameters }),\n  },\n  store_artifacts: {\n    text: 'Store Artifacts',\n    description: 'Step to store artifacts such as logs and binaries',\n    fields: (\n      <div>\n        Path\n        <Field\n          required\n          name=\"parameters.path\"\n          className=\"p-1 w-full border-circle-light-blue border-2 rounded\"\n        ></Field>\n        <br />\n        Destination\n        <Field\n          name=\"parameters.destination\"\n          className=\"p-1 w-full border-circle-gray-300 border-2 rounded\"\n        ></Field>\n      </div>\n    ),\n    generate: (values) => new commands.StoreArtifacts({ ...values.parameters }),\n  },\n  store_test_results: {\n    text: 'Store Test Results',\n    description: 'Upload and store test results for a build',\n    fields: <InspectorProperty label=\"Path\" name=\"parameters.path\" required />,\n    generate: (values) =>\n      new commands.StoreTestResults({ ...values.parameters }),\n  },\n  save_cache: {\n    text: 'Save Cache',\n    description:\n      'Generates and stores a cache of a file or directory in object storage',\n    fields: (\n      <div>\n        <InspectorProperty label=\"Path\" name=\"parameters.path\" required />\n        <InspectorProperty label=\"Key\" name=\"parameters.key\" required />\n        <InspectorProperty label=\"When\" name=\"parameters.when\" as=\"select\">\n          <option value=\"undefined\">Select When</option>\n          <option value=\"always\">Always</option>\n          <option value=\"on_success\">On Success</option>\n          <option value=\"on_fail\">On Fail</option>\n        </InspectorProperty>\n      </div>\n    ),\n    generate: (values) =>\n      new commands.cache.Save({\n        paths: [values.parameters.path],\n        key: values.parameters.key,\n        when: values.parameters.when,\n      }),\n  },\n};\n\nexport { commandSubtypes };\n","import { useState } from 'react';\n\nexport interface TabbedPaneProps {\n  tabs: string[];\n  activeTab?: number;\n  children: React.ReactNode | React.ReactNode[];\n}\n\nconst TabbedMenu = (props: TabbedPaneProps) => {\n  const [activeTab, setActiveTab] = useState(props.activeTab || 0);\n\n  return (\n    <div className=\"h-full\">\n      <div className=\"flex border-b border-circle-gray-300 pl-6\">\n        {props.tabs.map((tab, index) => (\n          <button\n            type=\"button\"\n            key={index}\n            className={`text-sm tracking-wide px-3 py-3 font-bold text-center ${\n              index === activeTab\n                ? 'border-black border-b-4 text-circle-black'\n                : 'text-circle-gray-600 mb-1'\n            }`}\n            onClick={() => setActiveTab(index)}\n          >\n            {tab}\n          </button>\n        ))}\n      </div>\n      {Array.isArray(props.children)\n        ? props.children[activeTab]\n        : props.children}\n    </div>\n  );\n};\n\nexport default TabbedMenu;\n","import { commands } from '@circleci/circleci-config-sdk';\nimport { CustomCommand } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Commands/exports/Reusable';\nimport { Form, Formik } from 'formik';\nimport { useStoreActions } from '../../../state/Hooks';\nimport BreadCrumbs from '../../containers/BreadCrumbs';\nimport { commandSubtypes } from '../../containers/inspector/subtypes/CommandSubtypes';\nimport TabbedMenu from '../TabbedMenu';\nimport { SubTypeMenuPageProps } from '../SubTypeMenu';\n\nconst StepPropertiesMenu = (\n  props: SubTypeMenuPageProps<string | CustomCommand>,\n) => {\n  const navigateBack = useStoreActions((actions) => actions.navigateBack);\n  const builtIn = typeof props.subtype === 'string';\n  const builtInSubtype = builtIn\n    ? commandSubtypes[props.subtype as string]\n    : undefined;\n  const customCommand = !builtIn ? (props.subtype as CustomCommand) : undefined;\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      <header>\n        <BreadCrumbs />\n        <h1 className=\"ml-6 text-2xl py-2 font-bold\">New Step</h1>\n      </header>\n      <Formik\n        initialValues={{ parameters: {} }}\n        enableReinitialize={true}\n        onSubmit={(parameters) => {\n          navigateBack({\n            distance: 1,\n            apply: (values: any) => {\n              values.steps = [\n                ...values.steps,\n                builtInSubtype\n                  ? builtInSubtype.generate(parameters)\n                  : new commands.reusable.ReusableCommand(\n                      props.subtype as CustomCommand,\n                      values.parameters,\n                    ),\n              ];\n\n              return values;\n            },\n          });\n        }}\n      >\n        {(formikProps) => (\n          <Form className=\"flex flex-col flex-1\">\n            <TabbedMenu tabs={['PROPERTIES']}>\n              <div className=\"p-6\">\n                <button\n                  className=\"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left\"\n                  type=\"button\"\n                  onClick={() => {\n                    props.selectSubtype();\n                  }}\n                >\n                  <p className=\"font-bold\">\n                    {builtInSubtype\n                      ? builtInSubtype?.text\n                      : customCommand?.name}\n                  </p>\n                  <p className=\"text-sm mt-1 leading-4 text-circle-gray-500\">\n                    {builtInSubtype\n                      ? builtInSubtype?.description\n                      : customCommand?.description}\n                  </p>\n                </button>\n                {builtInSubtype\n                  ? builtInSubtype?.fields\n                  : 'custom fields'}\n              </div>\n            </TabbedMenu>\n\n            <span className=\"border-b border-circle-gray-300 mt-auto\" />\n            <button\n              type=\"submit\"\n              className=\"text-white text-sm font-medium p-2 m-6 bg-circle-blue duration:50 transition-all rounded-md2\"\n            >\n              Save Step\n            </button>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n// const StepPropertiesMenuNav: NavigationComponent = {\n//   Component: StepPropertiesMenu,\n//   Label: () => <p>New Step</p>,\n// };\n\nexport default StepPropertiesMenu;\n","import { CustomCommand } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Commands/exports/Reusable';\nimport { useStoreState } from '../../../../state/Hooks';\nimport { NavigationComponent } from '../../../../state/Store';\nimport BreadCrumbs from '../../../containers/BreadCrumbs';\nimport { commandSubtypes } from '../../../containers/inspector/subtypes/CommandSubtypes';\nimport TabbedMenu from '../../TabbedMenu';\nimport { SubTypeSelectPageProps } from '../../SubTypeMenu';\n\nconst StepTypePage = (props: SubTypeSelectPageProps<string | CustomCommand>) => {\n  const definitions = useStoreState((state) => state.definitions);\n\n  return (\n    <div>\n      <header>\n        {/* <WorkflowIcon className=\"w-6 h-6 mr-1\" color=\"#6A6A6A\" /> */}\n        <BreadCrumbs />\n        <h1 className=\"ml-6 text-2xl py-3 font-bold\">Step Type</h1>\n      </header>\n      <TabbedMenu tabs={['BUILT-IN', 'COMMANDS', 'ORBS']}>\n        <div className=\"p-6\">\n          {Object.keys(commandSubtypes).map((subtype) => (\n            <button\n              key={subtype}\n              type=\"button\"\n              className=\"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left\"\n              onClick={() => {\n                props.setSubtype(subtype);\n              }}\n            >\n              <p className=\"font-bold\">{commandSubtypes[subtype].text}</p>\n              <p className=\"text-sm mt-1 leading-4 text-circle-gray-500\">\n                {commandSubtypes[subtype].description}\n              </p>\n            </button>\n            // <InspectorProperty name={command} label={commandProps[command].text} as=\"card\" />\n          ))}\n        </div>\n        <div className=\"p-6\">\n          {definitions.commands.map((command) => (\n            <button\n              key={command.name}\n              type=\"button\"\n              className=\"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left\"\n              onClick={() => {\n                props.setSubtype(command);\n              }}\n            >\n              <p className=\"font-bold\">{command.name}</p>\n              <p className=\"text-sm mt-1 leading-4 text-circle-gray-500\">\n                {/* {command.description} */}\n                Command description will show here\n              </p>\n            </button>\n            // <InspectorProperty name={command} label={commandProps[command].text} as=\"card\" />\n          ))}\n        </div>\n        <div>User defined commands will show here</div>\n        <div>Predefined orb steps will show here</div>\n      </TabbedMenu>\n    </div>\n  );\n};\n\nconst StepTypePageNav: NavigationComponent = {\n  Component: StepTypePage,\n  Label: () => <p>New Step</p>,\n};\n\nexport default StepTypePageNav;\n","import { useState } from 'react';\nimport { NavigationComponent } from '../../state/Store';\n/** TODO: ISubType interface for component mappings? */\n\nexport type SubTypeMenuProps<T> = {\n  typePage: NavigationComponent;\n  typeProps?: unknown;\n  menuPage: React.FunctionComponent<SubTypeMenuPageProps<T>>;\n  menuProps?: unknown;\n};\nexport type SubTypeReference<T> = T;\nexport type SubTypeSelectPageProps<T> = {\n  setSubtype: (subtype: SubTypeReference<T>) => void;\n};\nexport type SubTypeMenuPageProps<T> = {\n  subtype: SubTypeReference<T>;\n  selectSubtype: () => void;\n};\nexport interface SelectedSubType<T> {\n  current?: SubTypeReference<T>;\n  previous?: SubTypeReference<T>;\n}\n\nconst SubTypeMenu = <SubTypeRef,>(props: SubTypeMenuProps<SubTypeRef>) => {\n  const [subtype, setSubtype] = useState<SelectedSubType<SubTypeRef>>();\n\n  const updateSubtype = (selected: SubTypeReference<SubTypeRef>) => {\n    setSubtype({ current: selected, previous: subtype?.current });\n  };\n\n  const navBack = () => {\n    setSubtype({ current: undefined, previous: subtype?.current });\n  };\n\n  const SubTypeSelectPage = props.typePage.Component as React.FunctionComponent<\n    SubTypeSelectPageProps<SubTypeRef>\n  >;\n  const SubTypeMenuPage = props.menuPage;\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {subtype?.current ? (\n        <SubTypeMenuPage\n          subtype={subtype.current}\n          selectSubtype={navBack}\n          {...props.menuProps}\n        />\n      ) : (\n        <SubTypeSelectPage {...props.typeProps} setSubtype={updateSubtype} />\n      )}\n    </div>\n  );\n};\n\nconst SubTypeMenuNav: NavigationComponent = {\n  Component: SubTypeMenu,\n  Label: <SubTypeRef, >(props: SubTypeMenuProps<SubTypeRef>) => props.typePage.Label(props),\n  Icon: <SubTypeRef, >(props: SubTypeMenuProps<SubTypeRef>) =>\n    props.typePage.Icon ? props.typePage.Icon(props) : null,\n};\n\nexport default SubTypeMenuNav;\n","import { FormikValues } from 'formik';\nimport CommandMapping from '../../../mappings/CommandMapping';\nimport { useStoreActions } from '../../../state/Hooks';\nimport { DefinitionModel } from '../../../state/Store';\nimport InspectorProperty from '../../atoms/form/InspectorProperty';\nimport ListProperty from '../../atoms/form/ListProperty';\nimport StepPropertiesMenu from '../../menus/definitions/StepDefinitionMenu';\nimport StepTypePageNav from '../../menus/definitions/subtypes/StepTypePage';\nimport SubTypeMenuNav from '../../menus/SubTypeMenu';\n\nconst CommandInspector = (\n  props: FormikValues & { definitions: DefinitionModel },\n) => {\n  const navigateTo = useStoreActions((actions) => actions.navigateTo);\n\n  return (\n    <div>\n      <InspectorProperty\n        name=\"name\"\n        label=\"Name\"\n        required\n        value={props.values.name}\n      />\n      <InspectorProperty name=\"description\" label=\"Description\" as=\"textarea\" />\n      <ListProperty\n        label=\"Steps\"\n        name=\"steps\"\n        values={props.values.steps}\n        expanded\n        required\n        emptyText=\"No steps defined yet. At least one step is required.\"\n        titleExpanded={\n          <button\n            type=\"button\"\n            onClick={() => {\n              navigateTo({\n                component: SubTypeMenuNav,\n                props: {\n                  typePage: StepTypePageNav,\n                  menuPage: StepPropertiesMenu,\n                  passThrough: { dataType: CommandMapping },\n                },\n                values: props.values,\n              });\n            }}\n            className=\"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium\"\n          >\n            New\n          </button>\n        }\n      ></ListProperty>\n    </div>\n  );\n};\n\nexport default CommandInspector;\n","import { ReusableExecutor } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Executor';\nimport { SubTypeMapping } from '../../../../mappings/ComponentMapping';\nimport InspectorProperty from '../../../atoms/form/InspectorProperty';\n\nexport interface ComponentParameterType {\n  types: string[];\n}\n\nexport interface ParameterTypes {\n  [key: string]: SubTypeMapping;\n}\n\nexport interface ComponentParameterMapping {\n  pipeline: ComponentParameterType;\n  executor: ComponentParameterType;\n  job: ComponentParameterType;\n  command: ComponentParameterType;\n}\n\nconst parameterSubtypes: ParameterTypes = {\n  string: {\n    text: 'String',\n    description: 'Pass text data',\n    fields: (\n      <InspectorProperty\n        name=\"defaultValue\"\n        as=\"textarea\"\n        label=\"Default Value\"\n      />\n    ),\n  },\n  boolean: {\n    text: 'Boolean',\n    fields: (\n      <InspectorProperty name=\"defaultValue\" as=\"select\" label=\"Default Value\">\n        <option value=\"undefined\">No default</option>\n        <option value=\"false\">false</option>\n        <option value=\"true\">true</option>\n      </InspectorProperty>\n    ),\n  },\n  integer: {\n    text: 'Integer',\n    fields: (\n      <InspectorProperty\n        name=\"defaultValue\"\n        as=\"number\"\n        label=\"Default Value\"\n      />\n    ),\n  },\n  enum: {\n    text: 'Enum',\n    fields: <input type=\"text\" />,\n  },\n  executor: {\n    text: 'Executor',\n    fields: (props: { executors: ReusableExecutor[] }) => (\n      <InspectorProperty\n        label=\"Executor\"\n        as=\"select\"\n        name=\"executor.name\"\n        required\n      >\n        {props.executors?.map((executor) => (\n          <option value={executor.name} key={executor.name}>\n            {executor.name}\n          </option>\n        ))}\n      </InspectorProperty>\n    ),\n  },\n  steps: {\n    text: 'Steps',\n    fields: <input type=\"text\" />,\n  },\n  env_var_name: {\n    text: 'Environment Variable Name',\n    fields: <input type=\"text\" />,\n  },\n};\n\nconst componentParametersSubtypes: ComponentParameterMapping = {\n  pipeline: {\n    types: ['string', 'boolean', 'integer', 'enum'],\n  },\n  executor: { types: ['string', 'boolean', 'integer', 'enum'] },\n  job: {\n    types: [\n      'string',\n      'boolean',\n      'integer',\n      'enum',\n      'executor',\n      'steps',\n      'env_var_name',\n    ],\n  },\n  command: {\n    types: ['string', 'boolean', 'integer', 'enum', 'steps', 'env_var_name'],\n  },\n};\n\nexport { componentParametersSubtypes, parameterSubtypes };\n","import { commands } from '@circleci/circleci-config-sdk';\nimport { CustomCommand } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Commands/exports/Reusable';\nimport CommandSummary from '../components/atoms/summaries/CommandSummary';\nimport CommandInspector from '../components/containers/inspector/CommandInspector';\nimport { componentParametersSubtypes } from '../components/containers/inspector/subtypes/ParameterSubtypes';\nimport CommandIcon from '../icons/components/CommandIcon';\nimport ComponentMapping from './ComponentMapping';\n\nconst CommandMapping: ComponentMapping<CustomCommand> = {\n  type: 'commands',\n  name: {\n    singular: 'Command',\n    plural: 'Commands',\n  },\n  defaults: {\n    name: 'new-command',\n    steps: [],\n  },\n  parameters: componentParametersSubtypes.command,\n  transform: (values: any) =>\n    new commands.reusable.CustomCommand(\n      values.name,\n      values.steps,\n      values.parameters,\n    ),\n  store: {\n    get: (state) => state.definitions.commands,\n    add: (actions) => actions.defineCommand,\n    update: (actions) => actions.updateCommand,\n    remove: (actions) => actions.undefineCommand,\n  },\n  components: {\n    icon: CommandIcon,\n    summary: CommandSummary,\n    inspector: CommandInspector,\n  },\n};\n\nexport default CommandMapping;\n","import { IconProps } from '../IconProps';\n\nconst ExecutorIcon = (props: IconProps & { type?: string }) => (\n  <svg viewBox=\"0 0 96 96\" className={props.className}>\n    <g id=\"Layer_1\" data-name=\"Layer 1\">\n      <path d=\"M85.93,30h-76a6,6,0,0,1-6-6V12a6,6,0,0,1,6-6h76a6,6,0,0,1,6,6V24A6,6,0,0,1,85.93,30Zm-76-20a2,2,0,0,0-2,2V24a2,2,0,0,0,2,2h76a2,2,0,0,0,2-2V12a2,2,0,0,0-2-2Z\" />\n      <path d=\"M85.93,90h-76a6,6,0,0,1-6-6V72a6,6,0,0,1,6-6h76a6,6,0,0,1,6,6V84A6,6,0,0,1,85.93,90Zm-76-20a2,2,0,0,0-2,2V84a2,2,0,0,0,2,2h76a2,2,0,0,0,2-2V72a2,2,0,0,0-2-2Z\" />\n      <path d=\"M85.93,60h-76a6,6,0,0,1-6-6V42a6,6,0,0,1,6-6h76a6,6,0,0,1,6,6V54A6,6,0,0,1,85.93,60Zm-76-20a2,2,0,0,0-2,2V54a2,2,0,0,0,2,2h76a2,2,0,0,0,2-2V42a2,2,0,0,0-2-2Z\" />\n      <circle cx=\"19.93\" cy=\"18\" r=\"4\" />\n      <circle cx=\"19.93\" cy=\"48\" r=\"4\" />\n      <circle cx=\"19.93\" cy=\"78\" r=\"4\" />\n      <path d=\"M77.93,20h-48a2,2,0,0,1,0-4h48a2,2,0,0,1,0,4Z\" />\n      <path d=\"M77.93,50h-48a2,2,0,0,1,0-4h48a2,2,0,0,1,0,4Z\" />\n      <path d=\"M77.93,80h-48a2,2,0,0,1,0-4h48a2,2,0,0,1,0,4Z\" />\n    </g>\n  </svg>\n);\n\nexport default ExecutorIcon;\n","import { ReusableExecutor } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Executor';\nimport ExecutorIcon from '../../../icons/components/ExecutorIcon';\n\nconst ExecutorSummary: React.FunctionComponent<{ data: ReusableExecutor }> = (\n  props,\n) => {\n  return (\n    <div className=\"flex flex-row\">\n      <ExecutorIcon className=\"ml-1 mr-2 w-5 h-5\" /> {props.data.name}\n    </div>\n  );\n};\n\nexport default ExecutorSummary;\n","import { SubTypeMapping } from '../../../../mappings/ComponentMapping';\nimport InspectorProperty from '../../../atoms/form/InspectorProperty';\n\nexport interface ExecutorSubTypes {\n  [type: string]: SubTypeMapping & {\n    resourceClasses: string[];\n  };\n}\n\nconst executorSubtypes: ExecutorSubTypes = {\n  docker: {\n    text: 'Docker',\n    resourceClasses: [\n      'small',\n      'medium',\n      'medium+',\n      'large',\n      'xlarge',\n      '2xlarge',\n      '2xlarge+',\n    ],\n    fields: (\n      <InspectorProperty label=\"Image\" name=\"executor.image.image\" required />\n    ),\n    description: 'Steps run in container with provided image',\n  },\n  machine: {\n    text: 'Machine',\n    resourceClasses: ['medium', 'large', 'xlarge', '2xlarge'],\n    fields: <InspectorProperty label=\"Image\" name=\"executor.image\" required />,\n    description: 'Steps run on Linux Virtual Machine',\n  },\n  macos: {\n    text: 'MacOS',\n    resourceClasses: ['medium', 'large'],\n    fields: <InspectorProperty label=\"Xcode\" name=\"executor.xcode\" required />,\n    description:\n      'Steps run on macOS Virtual Machine with specific Xcode version',\n  },\n  windows: {\n    text: 'Windows',\n    resourceClasses: ['medium', 'large', 'xlarge', '2xlarge'],\n    fields: <InspectorProperty label=\"Image\" name=\"executor.image\" required />,\n    description: 'Steps run on Windows Virtual Machine',\n  },\n};\n\nexport { executorSubtypes };\n","import { FormikValues } from 'formik';\nimport { DefinitionModel } from '../../../state/Store';\nimport InspectorProperty from '../../atoms/form/InspectorProperty';\nimport { executorSubtypes } from './subtypes/ExecutorSubtypes';\n\nconst ExecutorInspector = (\n  props: FormikValues & { definitions: DefinitionModel },\n) => {\n  return (\n    <div>\n      <InspectorProperty label=\"Name\" name=\"name\" required />\n      <InspectorProperty label=\"Description\" name=\"executor.parameters.description\" as=\"textarea\" />\n      <InspectorProperty\n        label=\"Resource Class\"\n        name=\"resource_class\"\n        required\n        as=\"select\"\n      >\n        {executorSubtypes[props.values.type]?.resourceClasses?.map(\n          (resourceClass) => (\n            <option value={resourceClass} key={resourceClass}>\n              {resourceClass}\n            </option>\n          ),\n        )}\n      </InspectorProperty>\n      {executorSubtypes[props.values.type]?.fields}\n      <InspectorProperty label=\"Shell\" name=\"executor.parameters.shell\" />\n      <InspectorProperty label=\"Working Directory\" name=\"executor.parameters.working_directory\" />\n    </div>\n  );\n};\n\nexport default ExecutorInspector;\n","import ExecutorIcon from '../../../../icons/components/ExecutorIcon';\nimport { NavigationComponent } from '../../../../state/Store';\nimport BreadCrumbs from '../../../containers/BreadCrumbs';\nimport { executorSubtypes } from '../../../containers/inspector/subtypes/ExecutorSubtypes';\nimport { SubTypeSelectPageProps } from '../../SubTypeMenu';\n\nconst ExecutorTypePage = (props: SubTypeSelectPageProps<string>) => {\n  return (\n    <div>\n      <header>\n        {/* <WorkflowIcon className=\"w-6 h-6 mr-1\" color=\"#6A6A6A\" /> */}\n        <BreadCrumbs />\n        <div className=\"ml-6 flex py-3\">\n          <ExecutorIcon className=\"w-8 h-8 p-1 pl-0 mr-1\"></ExecutorIcon>\n          <h1 className=\"text-2xl font-bold\">New Executor</h1>\n        </div>\n        <div className=\"flex border-b border-circle-gray-300 pl-6\">\n          <div\n            className={`text-sm tracking-wide px-3 py-3 font-bold text-center 'border-black border-b-4 border-black text-circle-black`}\n          >\n            TYPE\n          </div>\n        </div>\n      </header>\n      <div className=\"p-6\">\n        {Object.keys(executorSubtypes).map((subtype) => (\n          <button\n            key={subtype}\n            type=\"button\"\n            className=\"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left\"\n            onClick={() => {\n              props.setSubtype(subtype);\n            }}\n          >\n            <p className=\"font-bold\">{executorSubtypes[subtype].text}</p>\n            <p className=\"text-sm mt-1 leading-4 text-circle-gray-500\">\n              {executorSubtypes[subtype].description}\n            </p>\n          </button>\n          // <InspectorProperty name={command} label={commandProps[command].text} as=\"card\" />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst ExecutorTypePageNav: NavigationComponent = {\n  Component: ExecutorTypePage,\n  Label: (props: SubTypeSelectPageProps<string>) => <p>New Executor</p>,\n  Icon: (props: SubTypeSelectPageProps<string>) => <ExecutorIcon className=\"w-6 h-8 py-2\" />,\n};\n\nexport default ExecutorTypePageNav;\n","import { IconProps } from '../IconProps';\n\nconst JobIcon = (props: IconProps) => (\n  <svg viewBox=\"0 0 24 24\" className={props.className}>\n    <path d=\"M12.458388,3 C17.7284428,3 22,7.25487688 22,12.5009275 C22,17.7469783 17.7286827,22 12.458388,22 C9.24779218,22 6.40748266,20.4195905 4.67890641,17.9975161 L4.51046025,18 C5.52650577,18 6.4784703,17.7267799 7.29630887,17.2500927 C8.5797622,18.6332003 10.4175246,19.5 12.4581919,19.5 C16.3422622,19.5 19.4895397,16.3667214 19.4895397,12.5010252 C19.4895397,8.63532901 16.3417423,5.5 12.4581919,5.5 C10.4182181,5.5 8.58077831,6.36686635 7.29682565,7.75083018 C6.52574446,7.30040157 5.63375878,7.03136434 4.68109466,7.00257493 C6.40892952,4.58026814 9.24869152,3 12.458388,3 Z M12.4596333,9.00000001 C14.4011972,9.00000001 15.9748954,10.5675188 15.9748954,12.5003076 C15.9748954,14.4330964 14.4012513,16 12.4596333,16 C11.2973265,16 10.266758,15.437833 9.62706371,14.5716975 C9.88962048,13.931837 10.0334728,13.2326478 10.0334728,12.5 C10.0334728,11.767055 9.88950371,11.0675956 9.62819064,10.4281361 C10.2669454,9.56228031 11.2974499,9.00000001 12.4596333,9.00000001 Z M4.50987191,10 C5.89718507,10 7.0209205,11.1200937 7.0209205,12.5002929 C7.0209205,13.8804921 5.89718507,15 4.50987191,15 C3.12373543,15 2,13.8804921 2,12.5002929 C2,11.1200937 3.12373543,10 4.50987191,10 Z\" />\n  </svg>\n);\n\nexport default JobIcon;\n","import { IconProps } from '../IconProps';\n\nconst PlusIcon = (props: IconProps & { filled: boolean }) => (\n  <svg\n    viewBox={`0 0 ${props.filled ? '20 20' : '16 16'}`}\n    className={props.className}\n  >\n    {props.filled ? (\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M11 9V6C11 5.44772 10.5523 5 10 5C9.44771 5 9 5.44772 9 6V9H6C5.44772 9 5 9.44771 5 10C5 10.5523 5.44772 11 6 11H9V14C9 14.5523 9.44771 15 10 15C10.5523 15 11 14.5523 11 14V11H14C14.5523 11 15 10.5523 15 10C15 9.44771 14.5523 9 14 9H11ZM10 0C15.52 0 20 4.48 20 10C20 15.52 15.52 20 10 20C4.48 20 0 15.52 0 10C0 4.48 4.48 0 10 0Z\"\n        fill={props.color}\n      />\n    ) : (\n      <g>\n        <mask\n          id=\"mask0_266_8047\"\n          maskUnits=\"userSpaceOnUse\"\n          x=\"0\"\n          y=\"0\"\n          width=\"16\"\n          height=\"16\"\n        >\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M8.66764 7.33357V5.33357C8.66764 4.96538 8.36916 4.66691 8.00097 4.66691C7.63278 4.66691 7.33431 4.96538 7.33431 5.33357V7.33357H5.33431C4.96612 7.33357 4.66764 7.63205 4.66764 8.00024C4.66764 8.36843 4.96612 8.66691 5.33431 8.66691H7.33431V10.6669C7.33431 11.0351 7.63278 11.3336 8.00097 11.3336C8.36916 11.3336 8.66764 11.0351 8.66764 10.6669V8.66691H10.6676C11.0358 8.66691 11.3343 8.36843 11.3343 8.00024C11.3343 7.63205 11.0358 7.33357 10.6676 7.33357H8.66764ZM8.00065 1.8335C4.59679 1.8335 1.83398 4.59631 1.83398 8.00016C1.83398 11.404 4.59679 14.1668 8.00065 14.1668C11.4045 14.1668 14.1673 11.404 14.1673 8.00016C14.1673 4.59631 11.4045 1.8335 8.00065 1.8335ZM0.833984 8.00016C0.833984 4.04402 4.04451 0.833496 8.00065 0.833496C11.9568 0.833496 15.1673 4.04402 15.1673 8.00016C15.1673 11.9563 11.9568 15.1668 8.00065 15.1668C4.04451 15.1668 0.833984 11.9563 0.833984 8.00016Z\"\n            fill=\"white\"\n          />\n        </mask>\n        <g mask=\"url(#mask0_266_8047)\">\n          <rect width=\"16\" height=\"16\" fill={props.color} />\n        </g>\n      </g>\n    )}\n  </svg>\n);\n\nexport default PlusIcon;\n","import { IconProps } from '../IconProps';\n\nconst WorkflowIcon = (props: IconProps) => (\n  <svg viewBox=\"0 0 24 24\" className={props.className} fill={props.color}>\n    <path d=\"M13,12.0005 L13,14.5005 C13,15.8812153 14.1192847,17.0005 15.5,17.0005 C16.7716732,17.0005 17.8215783,16.0510253 17.9794794,14.8223119 C16.8252603,14.4045443 16,13.2985065 16,12.0005 C16,10.3434832 17.3434471,9.0005 19,9.0005 C20.6565529,9.0005 22,10.3434832 22,12.0005 C22,13.3107265 21.1591278,14.4253528 19.9878345,14.8339277 C19.8172144,17.1635097 17.8731367,19.0005 15.5,19.0005 C13.0147153,19.0005 11,16.9857847 11,14.5005 L11,12.0005 L11,9.4995 C11,8.11906389 9.88099443,7.0005 8.5,7.0005 C7.2278041,7.0005 6.17794274,7.94975945 6.020417,9.17853139 C7.17480406,9.5960731 8,10.7018409 8,12.0005 C8,13.6567847 6.65628475,15.0005 5,15.0005 C3.34371525,15.0005 2,13.6567847 2,12.0005 C2,10.6896797 2.84072326,9.57538027 4.01209968,9.16698275 C4.18228055,6.83714058 6.12646259,5.0005 8.5,5.0005 C10.9853872,5.0005 13,7.0143176 13,9.4995 L13,12.0005 Z M6,12.0005 C6,11.4482074 5.55213797,11.0005 5,11.0005 C4.44786203,11.0005 4,11.4482074 4,12.0005 C4,12.5522153 4.44828475,13.0005 5,13.0005 C5.55171525,13.0005 6,12.5522153 6,12.0005 Z M20,12.0005 C20,11.4482074 19.552138,11.0005 19,11.0005 C18.447862,11.0005 18,11.4482074 18,12.0005 C18,12.5522153 18.4482847,13.0005 19,13.0005 C19.5517153,13.0005 20,12.5522153 20,12.0005 Z\"></path>\n  </svg>\n);\n\nexport default WorkflowIcon;\n","import { Job, WorkflowJob } from '@circleci/circleci-config-sdk';\nimport JobNode from '../components/atoms/nodes/JobNode';\nimport JobSummary from '../components/atoms/summaries/JobSummary';\nimport JobInspector from '../components/containers/inspector/JobInspector';\nimport { componentParametersSubtypes } from '../components/containers/inspector/subtypes/ParameterSubtypes';\nimport JobIcon from '../icons/components/JobIcon';\nimport ComponentMapping from './ComponentMapping';\n\nconst JobMapping: ComponentMapping<Job, WorkflowJob> = {\n  type: 'jobs',\n  name: {\n    singular: 'Job',\n    plural: 'Jobs',\n  },\n  defaults: {\n    name: 'New Job',\n    steps: [],\n  },\n  parameters: componentParametersSubtypes.job,\n  transform: (values, definitions) => {\n    const executor = definitions.executors.find(\n      (executor) => executor.name === values.executor?.name,\n    );\n\n    if (executor) {\n      return new Job(values.name, executor, values.steps);\n    }\n  },\n  store: {\n    get: (state) => {\n      return state.definitions.jobs;\n    },\n    add: (actions) => actions.defineJob,\n    update: (actions) => actions.updateJob,\n    remove: (actions) => actions.undefineJob,\n  },\n  dragTarget: 'workflow',\n  node: {\n    transform: (data, params) => {\n      return new WorkflowJob(data, params);\n    },\n    component: JobNode,\n  },\n  components: {\n    icon: JobIcon,\n    summary: JobSummary,\n    inspector: JobInspector,\n  },\n};\n\nexport default JobMapping;\n","import { Job, WorkflowJob } from '@circleci/circleci-config-sdk';\nimport { WorkflowJobParameters } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Workflow/types/WorkflowJob.types';\nimport React, { useRef } from 'react';\nimport { Handle, isNode, NodeProps, Position } from 'react-flow-renderer';\nimport JobIcon from '../../../icons/components/JobIcon';\nimport DeleteItemIcon from '../../../icons/ui/DeleteItemIcon';\nimport PlusIcon from '../../../icons/ui/PlusIcon';\nimport JobMapping from '../../../mappings/JobMapping';\nimport { useStoreActions, useStoreState } from '../../../state/Hooks';\n\nconst JobNode: React.FunctionComponent<NodeProps & { data: WorkflowJob }> = (\n  props,\n) => {\n  const elements = useStoreState(\n    (state) => state.workflows[state.selectedWorkflow].elements,\n  );\n  const dragging = useStoreState((state) => state.dragging);\n  // const setWorkflowElements = useStoreActions(\n  //   (actions) => actions.setWorkflowElements,\n  // );\n  const updateJob = useStoreActions((actions) => actions.updateJob);\n  const setConnecting = useStoreActions((actions) => actions.setConnecting);\n  const connecting = useStoreState((state) => state.connecting);\n  const updateConnecting = useStoreActions(\n    (actions) => actions.updateConnecting,\n  );\n\n  const updateWorkflowJob = (\n    workflowJob: WorkflowJob,\n    applyToData: { job?: Job; parameters?: WorkflowJobParameters },\n  ) =>\n    elements.map((element) =>\n      isNode(element) && element.data.job.name === workflowJob.job.name\n        ? { ...element, data: { ...workflowJob, ...applyToData } }\n        : element,\n    );\n  const [hovering, setHovering] = React.useState({\n    handles: false,\n    node: false,\n    requiredBy: false,\n    remove: false,\n    requires: false,\n  });\n\n  const trackHovering = (\n    entering: string[],\n    leaving: string[],\n    postEnter?: () => void,\n    postLeave?: () => void,\n  ) => {\n    return {\n      onMouseEnter: () => {\n        setHovering(\n          entering.reduce(\n            (previous, n) => ({ ...previous, [n]: true }),\n            hovering,\n          ),\n        );\n        postEnter && postEnter();\n      },\n      onMouseLeave: () => {\n        setHovering(\n          leaving.reduce(\n            (previous, n) => ({ ...previous, [n]: false }),\n            hovering,\n          ),\n        );\n        postLeave && postLeave();\n      },\n    };\n  };\n\n  const nodeRef = useRef(null);\n\n  // const onConnect = (params: Connection) => {\n  //   const targetJob = elements.find(\n  //     (element) => element.id === params.target,\n  //   )?.data;\n\n  //   setWorkflowElements(\n  //     addEdge(\n  //       {\n  //         ...params,\n  //         animated: false,\n  //         style: { stroke: '#A3A3A3', strokeWidth: '2px' },\n  //       },\n  //       updateWorkflowJob(targetJob, {\n  //         parameters: {\n  //           requires: [props.data.job.name],\n  //         },\n  //       }),\n  //     ),\n  //   );\n  // };\n\n  return (\n    <div\n      className={`p-8 flex flex-row cursor-default`}\n      {...trackHovering(\n        ['handles'],\n        ['handles', 'node', 'requires', 'requiredBy'],\n        () => {\n          updateConnecting({\n            ref: nodeRef,\n            id: {\n              connectionNodeId: props.id,\n              connectionHandleType: 'target',\n              connectionHandleId: `${props.id}_target`,\n            },\n            name: props.data.parameters?.name || props.data.job.name,\n          });\n        },\n        () => {\n          updateConnecting(undefined);\n        },\n      )}\n      onDragOver={(e) => {\n        if (dragging && dragging.dataType?.dragTarget === JobMapping.type) {\n          e.preventDefault();\n        }\n      }}\n      onDrop={(e) => {\n        if (\n          dragging &&\n          dragging.dataType?.dragTarget === JobMapping.type &&\n          dragging.dataType.applyToNode\n        ) {\n          const applyToData = dragging.dataType.applyToNode(\n            dragging.data,\n            props.data,\n          );\n\n          if (JobMapping.type in applyToData) {\n            updateJob({ old: props.data.job, new: applyToData.job });\n          }\n\n          if ('parameters' in applyToData) {\n            updateWorkflowJob(props.data, applyToData);\n          }\n        }\n      }}\n    >\n      <button\n        className={`opacity-${\n          hovering['handles'] && !hovering['node'] && !connecting?.start\n            ? 100\n            : 0\n        } transition-opacity duration-300 w-4 h-4 my-auto mr-5`}\n        id={`${props.id}_source`}\n        {...trackHovering(['requires', 'handles'], ['requires'])}\n      >\n        <PlusIcon\n          filled={hovering['requires']}\n          color=\"rgb(0, 120, 202)\"\n          className=\"bg-white rounded-full w-full border border-white\"\n        />\n      </button>\n\n      <button\n        className={`p-2 bg-white node flex flex-row text-black rounded-md border cursor-pointer \n        ${\n          (hovering['node'] && !hovering['remove']) ||\n          (hovering['handles'] && connecting?.start)\n            ? 'border-circle-blue'\n            : 'border-circle-gray-300'\n        }`}\n        ref={nodeRef}\n        {...trackHovering(['node'], ['node'])}\n      >\n        <div className=\"flex w-full\">\n          <JobIcon className=\"w-5 mr-2\" />\n          {props.data.parameters?.name || props.data.job.name}\n        </div>\n        <div\n          className={`my-auto\n          opacity-${hovering['node'] ? 100 : 0} \n          transition-opacity duration-150 w-8 h-full flex`}\n          {...trackHovering(['remove'], ['remove'])}\n        >\n          <DeleteItemIcon\n            className=\"w-3 cursor-pointer m-auto\"\n            color={hovering['remove'] ? 'red' : '#AAAAAA'}\n          />\n        </div>\n      </button>\n\n      <button\n        className={`opacity-${\n          hovering['handles'] && !hovering['node'] && !connecting?.start\n            ? 100\n            : 0\n        } source transition-opacity duration-300 w-4 h-4 my-auto ml-5`}\n        {...trackHovering(['requiredBy', 'handles'], ['requiredBy'])}\n        id={`${props.id}_target`}\n        // onClick={() => {\n        // TODO: Implement 'add job' menu functionality\n        // }}\n        draggable\n        onDragStart={(e) => {\n          setConnecting({\n            ref: nodeRef,\n            id: {\n              connectionNodeId: props.id,\n              connectionHandleType: 'source',\n              connectionHandleId: `${props.id}_source`,\n            },\n            name: props.data.parameters?.name || props.data.job.name,\n          });\n          e.preventDefault();\n        }}\n      >\n        <PlusIcon\n          className=\"bg-white rounded-full w-full border border-white\"\n          color=\"rgb(0, 120, 202)\"\n          filled={hovering['requiredBy']}\n        />\n      </button>\n\n      <Handle\n        type=\"source\"\n        className=\"opacity-0\"\n        position={Position.Right}\n        id={`${props.id}_source`}\n      ></Handle>\n      <Handle\n        className=\"opacity-0\"\n        id={`${props.id}_target`}\n        type=\"target\"\n        position={Position.Left}\n      />\n    </div>\n  );\n};\n\nexport default JobNode;\n","import { Job } from '@circleci/circleci-config-sdk';\nimport JobIcon from '../../../icons/components/JobIcon';\nimport WorkflowIcon from '../../../icons/components/WorkflowIcon';\n\nconst JobSummary: React.FunctionComponent<{ data: Job }> = (props) => {\n  return (\n    <div className=\"flex flex-row\">\n      <JobIcon className=\"ml-1 mr-2 w-5 h-5\"/>\n      <p className=\"leading-5\">{props.data.name}</p>\n      <WorkflowIcon className=\"w-5 h-5 ml-auto\" color=\"#E3E3E3\" />\n    </div>\n  );\n};\n\nexport default JobSummary;\n","import { FormikValues } from 'formik';\nimport JobMapping from '../../../mappings/JobMapping';\nimport { useStoreActions } from '../../../state/Hooks';\nimport { DefinitionModel } from '../../../state/Store';\nimport InspectorProperty from '../../atoms/form/InspectorProperty';\nimport ListProperty from '../../atoms/form/ListProperty';\nimport StepPropertiesMenu from '../../menus/definitions/StepDefinitionMenu';\nimport StepTypePage from '../../menus/definitions/subtypes/StepTypePage';\nimport SubTypeMenuNav from '../../menus/SubTypeMenu';\n\nconst JobInspector = (\n  props: FormikValues & { definitions: DefinitionModel },\n) => {\n  const navigateTo = useStoreActions((actions) => actions.navigateTo);\n\n  return (\n    <div>\n      <InspectorProperty label=\"Name\" name=\"name\" required />\n      <InspectorProperty\n        label=\"Executor\"\n        as=\"select\"\n        name=\"executor.name\"\n        required\n      >\n        {[{ name: 'Select Executor' }, ...props.definitions.executors].map(\n          (executor) => (\n            <option value={executor.name} key={executor.name}>\n              {executor.name}\n            </option>\n          ),\n        )}\n      </InspectorProperty>\n      <ListProperty\n        label=\"Steps\"\n        name=\"steps\"\n        values={props.values.steps}\n        expanded\n        emptyText=\"No steps defined yet.\"\n        titleExpanded={\n          <button\n            type=\"button\"\n            onClick={() => {\n              navigateTo({\n                component: SubTypeMenuNav,\n                props: {\n                  typePage: StepTypePage,\n                  menuPage: StepPropertiesMenu,\n                  passThrough: { dataType: JobMapping },\n                },\n                values: props.values,\n              });\n            }}\n            className=\"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium\"\n          >\n            New\n          </button>\n        }\n      ></ListProperty>\n    </div>\n  );\n};\n\nexport default JobInspector;\n","import { executor, Job, WorkflowJob } from '@circleci/circleci-config-sdk';\nimport { ReusableExecutor } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Executor';\nimport { Executor } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Executor/exports/Executor';\nimport ExecutorSummary from '../components/atoms/summaries/ExecutorSummary';\nimport ExecutorInspector from '../components/containers/inspector/ExecutorInspector';\nimport { executorSubtypes } from '../components/containers/inspector/subtypes/ExecutorSubtypes';\nimport { componentParametersSubtypes } from '../components/containers/inspector/subtypes/ParameterSubtypes';\nimport ExecutorTypePageNav from '../components/menus/definitions/subtypes/ExecutorTypePage';\nimport ExecutorIcon from '../icons/components/ExecutorIcon';\nimport ComponentMapping from './ComponentMapping';\nimport JobMapping from './JobMapping';\n\nexport type AnyExecutor =\n  | executor.DockerExecutor\n  | executor.MacOSExecutor\n  | executor.MachineExecutor\n  | executor.WindowsExecutor\n  | Executor;\n\nconst transform = (values: any) => {\n  const subtypes: { [type: string]: () => AnyExecutor } = {\n    docker: () =>\n      new executor.DockerExecutor(\n        values.executor.image.image || 'cimg/base:stable',\n        values.executor.resource_class,\n        values.executor.parameters,\n      ),\n    machine: () =>\n      new executor.MachineExecutor(\n        values.executor.resource_class,\n        values.executor.image || 'cimg/base:latest',\n        values.executor.parameters,\n      ),\n    macos: () =>\n      new executor.MacOSExecutor(\n        values.executor.xcode,\n        values.executor.resource_class,\n        values.executor.parameters,\n      ),\n    windows: () =>\n      new executor.WindowsExecutor(\n        values.executor.image,\n        values.executor.resource_class,\n        values.executor.parameters,\n      ),\n  };\n\n  return new executor.ReusableExecutor(values.name, subtypes[values.type]());\n};\n\nconst ExecutorMapping: ComponentMapping<ReusableExecutor, WorkflowJob> = {\n  type: 'executors',\n  name: {\n    singular: 'Executor',\n    plural: 'Executors',\n  },\n  defaults: {\n    docker: {\n      name: 'docker',\n      executor: {\n        image: {\n          image: 'cimg/base:stable',\n        },\n        parameters: {},\n      },\n      resource_class: 'medium',\n    },\n    machine: {\n      name: 'machine',\n      executor: {\n        image: 'ubuntu-2004:202111-01',\n        parameters: {},\n      },\n      resource_class: 'medium',\n    },\n    macos: {\n      name: 'macos',\n      executor: {\n        xcode: '13.2.0',\n        parameters: {},\n      },\n      resource_class: 'medium',\n    },\n    windows: {\n      name: 'windows_server',\n      executor: {\n        image: 'windows-server-2019-vs2019:stable',\n        parameters: {},\n      },\n      resource_class: 'medium',\n    },\n  },\n  parameters: componentParametersSubtypes.executor,\n  transform: transform,\n  store: {\n    get: (state) => state.definitions.executors,\n    add: (actions) => actions.defineExecutor,\n    update: (actions) => actions.updateExecutor,\n    remove: (actions) => actions.undefineExecutor,\n  },\n  dragTarget: JobMapping.type,\n  applyToNode: (data, nodeData) => {\n    const oldJob = nodeData.job;\n\n    return new WorkflowJob(\n      new Job(oldJob.name, data, oldJob.steps),\n      nodeData.parameters,\n    );\n  },\n  subtypes: { component: ExecutorTypePageNav, definitions: executorSubtypes },\n  components: {\n    icon: ExecutorIcon,\n    summary: ExecutorSummary,\n    inspector: ExecutorInspector,\n  },\n};\n\nexport default ExecutorMapping;\n","import { IconProps } from '../IconProps';\n\nconst ParameterIcon = (props: IconProps) => (\n  <svg viewBox=\"0 0 18 18\" className={props.className}>\n    <path\n      fillRule=\"evenodd\"\n      d=\"M4.649 3.084A1 1 0 015.163 4.4 13.95 13.95 0 004 10c0 1.993.416 3.886 1.164 5.6a1 1 0 01-1.832.8A15.95 15.95 0 012 10c0-2.274.475-4.44 1.332-6.4a1 1 0 011.317-.516zM12.96 7a3 3 0 00-2.342 1.126l-.328.41-.111-.279A2 2 0 008.323 7H8a1 1 0 000 2h.323l.532 1.33-1.035 1.295a1 1 0 01-.781.375H7a1 1 0 100 2h.039a3 3 0 002.342-1.126l.328-.41.111.279A2 2 0 0011.677 14H12a1 1 0 100-2h-.323l-.532-1.33 1.035-1.295A1 1 0 0112.961 9H13a1 1 0 100-2h-.039zm1.874-2.6a1 1 0 011.833-.8A15.95 15.95 0 0118 10c0 2.274-.475 4.44-1.332 6.4a1 1 0 11-1.832-.8A13.949 13.949 0 0016 10c0-1.993-.416-3.886-1.165-5.6z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport default ParameterIcon;\n","import { parameters } from '@circleci/circleci-config-sdk';\nimport { CustomParameter } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Parameters';\nimport { PipelineParameterLiteral } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Parameters/types/CustomParameterLiterals.types';\nimport ParameterSummary from '../components/atoms/summaries/ParameterSummary';\nimport ParameterInspector from '../components/containers/inspector/ParameterInspector';\nimport { parameterSubtypes } from '../components/containers/inspector/subtypes/ParameterSubtypes';\nimport ParameterTypePageNav from '../components/menus/definitions/subtypes/ParameterTypePage';\nimport ParameterIcon from '../icons/components/ParameterIcon';\nimport ComponentMapping from './ComponentMapping';\n\nconst ParameterMapping: ComponentMapping<\n  CustomParameter<PipelineParameterLiteral>\n> = {\n  type: 'parameters',\n  name: {\n    singular: 'Parameter',\n    plural: 'Parameters',\n  },\n  defaults: {\n    integer: {\n      name: 'new_integer_parameter'\n    },\n    boolean: {\n      name: 'new_boolean_parameter'\n    },\n    string: {\n      name: 'new_string_parameter'\n    },\n    enum: {\n      name: 'new_enum_parameter'\n    },\n  },\n  transform: (values: any) =>\n    new parameters.CustomParameter(\n      values.name,\n      values.type,\n      values.defaultValue,\n      values.description,\n    ),\n  store: {\n    get: (state) => state.definitions.parameters,\n    add: (actions) => actions.defineParameter,\n    update: (actions) => actions.updateParameter,\n    remove: (actions) => actions.undefineParameter,\n  },\n  subtypes: { component: ParameterTypePageNav, definitions: parameterSubtypes },\n  components: {\n    icon: ParameterIcon,\n    summary: ParameterSummary,\n    inspector: ParameterInspector,\n  },\n};\n\nexport default ParameterMapping;\n","import ParameterIcon from '../../../../icons/components/ParameterIcon';\nimport ComponentMapping from '../../../../mappings/ComponentMapping';\nimport { NavigationComponent } from '../../../../state/Store';\nimport BreadCrumbs from '../../../containers/BreadCrumbs';\nimport {\n  componentParametersSubtypes,\n  parameterSubtypes,\n} from '../../../containers/inspector/subtypes/ParameterSubtypes';\nimport { SubTypeSelectPageProps } from '../../SubTypeMenu';\n\nconst ParameterTypePage = (\n  props: SubTypeSelectPageProps<string> & { component: ComponentMapping },\n) => {\n  const parameters =\n    props.component?.parameters || componentParametersSubtypes.pipeline;\n\n  return (\n    <div>\n      <header>\n        {/* <WorkflowIcon className=\"w-6 h-6 mr-1\" color=\"#6A6A6A\" /> */}\n        <BreadCrumbs />\n        <div className=\"ml-6 flex py-3\">\n          <ParameterIcon className=\"w-8 h-8 p-1 pl-0 mr-1\"></ParameterIcon>\n          <h1 className=\"text-2xl font-bold\">New Parameter</h1>\n        </div>\n        <div className=\"flex border-b border-circle-gray-300 pl-6\">\n          <div\n            className={`text-sm tracking-wide px-3 py-3 font-bold text-center 'border-black border-b-4 border-black text-circle-black`}\n          >\n            TYPE\n          </div>\n        </div>\n      </header>\n      <div className=\"p-6\">\n        {parameters?.types &&\n          parameters.types.map((subtype) => (\n            <button\n              key={subtype}\n              type=\"button\"\n              className=\"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left\"\n              onClick={() => {\n                props.setSubtype(subtype);\n              }}\n            >\n              {console.log(parameterSubtypes[subtype], subtype)}\n              <p className=\"font-bold\">{parameterSubtypes[subtype]?.text}</p>\n              <p className=\"text-sm mt-1 leading-4 text-circle-gray-500\">\n                {parameterSubtypes[subtype]?.description}\n              </p>\n            </button>\n            // <InspectorProperty name={command} label={commandProps[command].text} as=\"card\" />\n          ))}\n      </div>\n    </div>\n  );\n};\n\nconst ParameterTypePageNav: NavigationComponent = {\n  Component: ParameterTypePage,\n  Label: (props: SubTypeSelectPageProps<string>) => <p>New Parameter</p>,\n  Icon: (props: SubTypeSelectPageProps<string>) => (\n    <ParameterIcon className=\"w-6 h-8 py-2\" />\n  ),\n};\n\nexport default ParameterTypePageNav;\n","import { CustomParameter } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Parameters';\nimport { PipelineParameterLiteral } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Parameters/types/CustomParameterLiterals.types';\nimport ParameterIcon from '../../../icons/components/ParameterIcon';\n\nconst ParameterSummary: React.FunctionComponent<{\n  data: CustomParameter<PipelineParameterLiteral>;\n}> = (props) => {\n  return (\n    <div className=\"flex flex-row\">\n      <ParameterIcon className=\"ml-1 mr-2 w-5 h-5\" /> {props.data.name}\n    </div>\n  );\n};\n\nexport default ParameterSummary;\n","import { FormikValues } from 'formik';\nimport { DefinitionModel } from '../../../state/Store';\nimport InspectorProperty from '../../atoms/form/InspectorProperty';\nimport { parameterSubtypes } from './subtypes/ParameterSubtypes';\n// data: CustomParameter<PrimitiveParameterLiteral>\nconst ParameterInspector = (\n  props: FormikValues & {\n    definitions: DefinitionModel;\n  },\n) => {\n  return (\n    <div>\n      <InspectorProperty name=\"name\" label=\"Name\" required />\n      <InspectorProperty name=\"description\" label=\"Description\" />\n      {parameterSubtypes[props.values.type]?.fields}\n    </div>\n  );\n};\n\nexport default ParameterInspector;\n","import {\n  commands,\n  executor,\n  Job,\n  parameters,\n} from '@circleci/circleci-config-sdk';\nimport { ActionCreator, Actions, State } from 'easy-peasy';\nimport { FormikValues } from 'formik';\nimport { ReactElement } from 'react';\nimport { NodeProps } from 'react-flow-renderer';\nimport { ComponentParameterType } from '../components/containers/inspector/subtypes/ParameterSubtypes';\nimport Store, {\n  DefinitionModel,\n  NavigationComponent,\n  UpdateType,\n} from '../state/Store';\nimport CommandMapping from './CommandMapping';\nimport ExecutorMapping from './ExecutorMapping';\nimport JobMapping from './JobMapping';\nimport ParameterMapping from './ParameterMapping';\n\n/**\n * Interface to add a circleci-config-sdk component to a data mapping.\n */\nexport interface DataMapping {\n  type: string;\n  component: any[];\n  mapping: ComponentMapping;\n}\n\n/**\n * Registry of circleci-config-sdk component to data maps.\n */\nconst dataMappings: DataMapping[] = [\n  {\n    type: 'executors',\n    component: [\n      executor.DockerExecutor,\n      executor.MacOSExecutor,\n      executor.MachineExecutor,\n      executor.WindowsExecutor,\n    ],\n    mapping: ExecutorMapping,\n  },\n  {\n    type: 'jobs',\n    component: [Job],\n    mapping: JobMapping,\n  },\n  {\n    type: 'commands',\n    component: [commands.reusable.CustomCommand],\n    mapping: CommandMapping,\n  },\n  {\n    type: 'parameters',\n    component: [parameters.CustomParameter],\n    mapping: ParameterMapping,\n  },\n];\n\n/**\n * Utility function for converting a component into a mapping type.\n * @param {any} data:any\n * @returns {any}\n */\nconst componentToType = (data: any): ComponentMapping | undefined => {\n  let foundType = undefined;\n\n  dataMappings.forEach((mapping) => {\n    if (typeof data === 'string' && mapping.type === data) {\n      foundType = mapping.mapping;\n      return;\n    } else {\n      mapping.component.forEach((type) => {\n        if (data instanceof type) {\n          foundType = mapping.mapping;\n          return;\n        }\n      });\n    }\n  });\n\n  return foundType;\n};\n\nexport { componentToType, dataMappings };\n\ntype storeType = typeof Store;\n\ntype KeysOfUnion<T> = T extends T ? keyof T : never;\n\nexport interface SubTypeMapping {\n  text: string;\n  description?: string;\n  fields: ReactElement | React.FunctionComponent<any>;\n}\n\n/**\n * circleci-config-sdk Component to Data Mapping\n *\n * @interface\n */\nexport default interface ComponentMapping<\n  ConfigDataType = any,\n  ConfigNodeProps = any,\n  InspectorDefaults = any,\n> {\n  /**  String name type of component. Must be equal to index within registry. */\n  type: string;\n  /**  Language values of component. This should be used for UI display only. */\n  name: {\n    singular: string;\n    plural: string;\n  };\n  /** Default values to populate inspectors\n   *  @todo need to add support for subtype defaults\n   */\n  defaults: {\n    [K in KeysOfUnion<ConfigDataType | InspectorDefaults>]?: any;\n  };\n  /**\n   * Is true when the component can accept parameters.\n   */\n  parameters?: ComponentParameterType;\n  /** Transform field values into an instance of ConfigDataType */\n  transform: (\n    values: { [K: string]: any },\n    definitions: DefinitionModel,\n  ) => ConfigDataType | undefined;\n  store: {\n    /** Returns easy-peasy state hook for component array */\n    get: (state: State<storeType>) => ConfigDataType[] | undefined;\n    /** Returns easy-peasy add action hook for component array */\n    add: (state: Actions<storeType>) => ActionCreator<ConfigDataType>;\n    /** Returns easy-peasy update action hook for data type */\n    update: (\n      state: Actions<storeType>,\n    ) => (data: UpdateType<ConfigDataType>) => void;\n    /** Returns easy-peasy removal action hook for data type */\n    remove: (state: Actions<storeType>) => (data: ConfigDataType) => void;\n  };\n  /**\n   * Name of target that a definition can be tragged to.\n   * Currently only 'workflow' or 'job'\n   */\n  dragTarget?: string;\n  /**\n   * Called from a node to apply datatype to the applied node\n   * @todo Potentially support multiple node types.\n   * @returns Object populated with values of ConfigNodeProps */\n  applyToNode?: (\n    data: ConfigDataType,\n    nodeData: ConfigNodeProps,\n  ) => { [K in KeysOfUnion<ConfigNodeProps>]?: any };\n  node?: {\n    /** Transform definition data */\n    transform?: (data: ConfigDataType, extras?: any) => ConfigNodeProps;\n    /** @todo: Add store functionality to better support updating defintions and their corresponding workflow nodes */\n    component: React.FunctionComponent<{ data: ConfigNodeProps } & NodeProps>;\n  };\n  subtypes?: {\n    component: NavigationComponent;\n    definitions: { [subtype: string]: SubTypeMapping };\n  };\n  components: {\n    /** Icon Component to render in definition */\n    icon?: React.FunctionComponent<any>;\n    /** Component to render in definition */\n    summary: React.FunctionComponent<{ data: ConfigDataType }>;\n    /**\n     * Called by InspectorPane and CreateNew to generate form\n     * @returns Function which returns a Formik Form object*/\n    inspector: (\n      props: FormikValues & {\n        definitions: DefinitionModel;\n        subtype?: any;\n      },\n      // data: ConfigDataType;\n    ) => JSX.Element;\n  };\n}\n","import {\n  ConnectionLineComponentProps,\n  useStoreState as flowState,\n} from 'react-flow-renderer';\nimport { useStoreState } from '../../state/Hooks';\n\nconst ConnectionLine = ({\n  sourceX,\n  sourceY,\n  sourcePosition,\n  targetX,\n  targetY,\n  targetPosition,\n  connectionLineType,\n  connectionLineStyle,\n}: ConnectionLineComponentProps) => {\n  const connecting = useStoreState((state) => state.connecting);\n  const transform = flowState((state) => state.transform);\n  const handle = connecting?.start?.ref?.current as Element;\n\n  if (!handle) {\n    return null;\n  }\n\n  const bounds = handle.getBoundingClientRect();\n  const startX = (bounds.x + bounds.width - transform[0]) / transform[2];\n  const startY =\n    (bounds.y + bounds.height / 2 - 64 - transform[1]) / transform[2];\n  let endX = targetX;\n  let endY = targetY;\n  const dist = 30;\n  const invalid = endX - dist < startX + dist;\n  let color = '#76CDFF';\n\n  if (!invalid && connecting?.end?.ref) {\n    const snapTo = connecting?.end.ref?.current as Element;\n\n    if (snapTo && connecting?.end?.ref.current !== handle) {\n      const snapToBounds = snapTo.getBoundingClientRect();\n      endX = (snapToBounds.x - transform[0]) / transform[2];\n      endY =\n        (snapToBounds.y + snapToBounds.height / 2 - 64 - transform[1]) /\n        transform[2];\n      color = '#0078CA';\n    }\n  }\n\n  color = invalid ? '#F24646' : color;\n\n  return (\n    <g>\n      <path\n        fill=\"none\"\n        stroke={color}\n        strokeWidth={1.5}\n        className=\"animated\"\n        d={`M${startX},${startY} ${startX + dist},${startY} ${startX + dist},${startY} ${endX - dist},${endY} ${endX - dist},${endY} ${endX},${endY}`}\n      />\n      <circle\n        cx={endX}\n        cy={endY}\n        fill=\"#fff\"\n        r={3}\n        stroke={color}\n        strokeWidth={1.5}\n      />\n      <circle\n        cx={startX - 2}\n        cy={startY}\n        fill=\"#fff\"\n        r={3}\n        stroke={color}\n        strokeWidth={1.5}\n      />\n    </g>\n  );\n};\n\nexport default ConnectionLine;\n","import React from 'react';\nimport { EdgeProps } from 'react-flow-renderer';\n\nexport default function Edge({\n  id,\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourcePosition,\n  targetPosition,\n  style = {},\n  data,\n  arrowHeadType,\n  markerEndId,\n}: EdgeProps) {\n  const gap = 45;\n\n  return (\n    <g>\n      <path\n        id={id}\n        style={style}\n        className=\"react-flow__edge-path\"\n        d={`M${sourceX - gap * 2},${sourceY} ${sourceX - gap},${sourceY} ${\n          sourceX - gap\n        },${sourceY} ${targetX + gap},${targetY} ${targetX + gap},${targetY} ${\n          targetX + gap * 2\n        },${targetY}`}\n      />\n      {/* <text>\n        <textPath\n          href={`#${id}`}\n          style={{ fontSize: '12px' }}\n          startOffset=\"50%\"\n          textAnchor=\"middle\"\n        >\n          {'requires'}\n        </textPath>\n      </text> */}\n    </g>\n  );\n}\n","import { WorkflowJobParameters } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Workflow/types/WorkflowJob.types';\nimport { useEffect, useState } from 'react';\nimport ReactFlow, {\n  addEdge,\n  Background,\n  BackgroundVariant,\n  ConnectionLineComponentProps,\n  ConnectionMode,\n  FlowTransform,\n  isNode,\n  Node,\n  NodeTypesType,\n  useStoreActions as flowActions,\n} from 'react-flow-renderer';\nimport { v4 } from 'uuid';\nimport { dataMappings } from '../../mappings/ComponentMapping';\nimport JobMapping from '../../mappings/JobMapping';\nimport { useStoreActions, useStoreState } from '../../state/Hooks';\nimport { WorkflowModel } from '../../state/Store';\nimport ConnectionLine from '../atoms/ConnectionLine';\nimport Edge from '../atoms/Edge';\n\nexport interface ElementProps {\n  className?: string;\n  bgClassName?: string;\n  workflow: WorkflowModel;\n}\n\nconst getTypes = (): NodeTypesType =>\n  Object.assign(\n    {},\n    ...dataMappings.map((component) =>\n      component.mapping.node\n        ? { [component.mapping.type]: component.mapping.node.component }\n        : null,\n    ),\n  );\n\nconst WorkflowPane = (props: ElementProps) => {\n  const [transform, setTransform] = useState<FlowTransform>({\n    x: 0,\n    y: 0,\n    zoom: 1,\n  });\n\n  const elements = useStoreState(\n    (state) => state.workflows[state.selectedWorkflow].elements,\n  );\n  const addWorkflowElement = useStoreActions(\n    (actions) => actions.addWorkflowElement,\n  );\n\n  const dragging = useStoreState((state) => state.dragging);\n  const connecting = useStoreState((state) => state.connecting);\n  const setWorkflowElements = useStoreActions(\n    (actions) => actions.setWorkflowElements,\n  );\n  const setConnecting = useStoreActions((actions) => actions.setConnecting);\n  const [connectingTo, setConnectingTo] = useState({ x: 0, y: 0 });\n\n  const updateWorkflowJob = (\n    targetJob: string,\n    applyToData: (parameters: WorkflowJobParameters) => WorkflowJobParameters,\n  ) =>\n    elements.map((element) => {\n      console.log(\n        (element.data.parameters?.name || element.data.job.name) === targetJob,\n      );\n\n      return isNode(element) &&\n        JobMapping.node?.transform &&\n        (element.data.parameters?.name || element.data.job.name) === targetJob\n        ? {\n            ...element,\n            data: JobMapping.node.transform(\n              element.data.job,\n              applyToData(element.data.parameters),\n            ),\n          }\n        : element;\n    });\n\n  const handleMouseUp = () => {\n    if (connecting?.start?.name) {\n      const startName = connecting.start.name;\n\n      if (connecting?.end?.name) {\n        setWorkflowElements(\n          addEdge(\n            {\n              source: connecting.start.id.connectionNodeId,\n              target: connecting.end.id.connectionNodeId,\n              type: 'requires',\n              sourceHandle: connecting.start.id.connectionHandleId,\n              targetHandle: connecting.end.id.connectionNodeId,\n              animated: false,\n              style: { stroke: '#A3A3A3', strokeWidth: '2px' },\n            },\n            updateWorkflowJob(connecting.end.name, (parameters) => ({\n              requires: parameters?.requires\n                ? [...parameters.requires, startName]\n                : [startName],\n            })),\n          ),\n        );\n      }\n\n      setConnecting({\n        id: {\n          connectionNodeId: null,\n          connectionHandleType: null,\n          connectionHandleId: null,\n        },\n      });\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('mouseup', handleMouseUp);\n\n    return () => {\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  });\n\n  const gap = 15;\n\n  const NodesDebugger = () => {\n    // const asdsa = flowState((state) => state.connectionPosition);\n    const setConnecting = flowActions((state) => state.setConnectionNodeId);\n    const setConnectingPosition = flowActions(\n      (state) => state.setConnectionPosition,\n    );\n\n    useEffect(() => {\n      setConnecting(connecting?.start?.id);\n      setConnectingPosition({\n        x: connectingTo.x - transform.x,\n        y: connectingTo.y - transform.y,\n      });\n    });\n\n    return null;\n  };\n\n  return (\n    <div\n      className=\"w-full h-full\"\n      onDragOver={(e) => {\n        if (dragging?.dataType?.dragTarget === 'workflow') {\n          e.preventDefault();\n        }\n      }}\n      onDrag={(e) => {}}\n      onMouseMove={(e) => {\n        const containerBounds = (e.target as Element)\n          .closest('.react-flow')\n          ?.getBoundingClientRect();\n\n        if (containerBounds) {\n          setConnectingTo({\n            x: e.clientX + transform.x - containerBounds.left,\n            y: e.clientY + transform.y - containerBounds.top,\n          });\n        }\n      }}\n      onDrop={(e) => {\n        const nodeMapping = dragging?.dataType?.node;\n\n        if (dragging?.dataType?.dragTarget === 'workflow' && nodeMapping) {\n          const pos = {\n            x: e.clientX - gap - transform.x,\n            y: e.clientY - gap * 3 - transform.y,\n          };\n          const round = (val: number) =>\n            Math.floor(val / transform.zoom / gap) * gap;\n          let data = dragging.data;\n\n          if (nodeMapping.transform) {\n            data = nodeMapping.transform(data);\n          }\n\n          const workflowNode: Node<any> = {\n            id: v4(),\n            data,\n            connectable: true,\n            dragHandle: '.node',\n            type: dragging.dataType.type,\n            position: { x: round(pos.x), y: round(pos.y) },\n          };\n\n          addWorkflowElement(workflowNode);\n        }\n      }}\n    >\n      <ReactFlow\n        elements={elements}\n        className={props.className}\n        onMove={(e) => {\n          setTransform(e || transform);\n        }}\n        selectNodesOnDrag={false}\n        nodeTypes={getTypes()}\n        edgeTypes={{ requires: Edge }}\n        snapToGrid={true}\n        connectionMode={ConnectionMode.Loose}\n        connectionLineComponent={\n          ConnectionLine as React.ComponentType<ConnectionLineComponentProps>\n        }\n      >\n        <NodesDebugger />\n        <Background\n          variant={BackgroundVariant.Dots}\n          gap={gap}\n          color=\"#A3A3A3\"\n          className={props.bgClassName}\n          size={1}\n        />\n      </ReactFlow>\n    </div>\n  );\n};\n\nexport default WorkflowPane;\n","import { useStoreActions, useStoreState } from '../../state/Hooks';\nimport WorkflowPane from '../containers/WorkflowContainer';\n\nconst WorkflowsPane = () => {\n  const workflows = useStoreState((state) => state.workflows);\n  const selectedWorkflow = useStoreState((state) => state.selectedWorkflow);\n  const selectWorkflow = useStoreActions((actions) => actions.selectWorkflow);\n\n  return (\n    <div className=\"flex flex-col flex-nowrap flex-1\">\n      <div className=\"w-full bg-white h-16 p-5\">\n        <select className=\"rounded border border-circle-gray-400 p-2\">\n          {workflows.map((workflow, num) => (\n            <option value={workflow.id} key={workflow.id}  onChange={() => selectWorkflow(num)}>\n              {workflow.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <WorkflowPane\n        workflow={workflows[selectedWorkflow]}\n        bgClassName=\"bg-circle-gray-200\"\n        className=\"border border-r-0 h-full border-b-0 border-circle-gray-300\"\n      />\n    </div>\n  );\n};\n\nexport default WorkflowsPane;\n","import { Form, Formik } from 'formik';\nimport BreadCrumbArrowIcon from '../../../icons/ui/BreadCrumbArrowIcon';\nimport { useStoreActions, useStoreState } from '../../../state/Hooks';\nimport { DataModel, NavigationComponent } from '../../../state/Store';\nimport TabbedMenu from '../TabbedMenu';\n\nexport type EditDefinitionProps = DataModel & { values: any };\n\nconst EditDefinitionMenu = (props: EditDefinitionProps) => {\n  const dataMapping = props.dataType;\n  const update = useStoreActions(\n    (actions) => dataMapping?.store.update(actions) || actions.error,\n  );\n  const navigateBack = useStoreActions((actions) => actions.navigateBack);\n  const definitions = useStoreState((state) => state.definitions);\n\n  const getIcon = (className: string) => {\n    let iconComponent = dataMapping?.components.icon;\n\n    if (iconComponent) {\n      let Icon = iconComponent;\n\n      return <Icon className={className} />;\n    }\n  };\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      <header className=\"ml-6\">\n        <div className=\"flex items-center\">\n          <button\n            className=\"text-base text-circle-gray-500\"\n            onClick={() => {\n              navigateBack();\n            }}\n          >\n            Definitions\n          </button>\n          <BreadCrumbArrowIcon className=\"pl-1 w-5 h-5\" color=\"#6A6A6A\" />\n          {getIcon('w-6 h-8 py-2')}\n          <p className=\"ml-1 font-medium leading-6 tracking-tight\">\n            Edit {dataMapping?.name.singular}\n          </p>\n        </div>\n        <div className=\"py-3 flex\">\n          {getIcon('w-8 h-8 p-1 pl-0 mr-1')}\n          <h1 className=\"text-2xl font-bold\">{props.data.name}</h1>\n        </div>\n      </header>\n      {dataMapping && (\n        <Formik\n          initialValues={\n            props.values || { ...dataMapping.defaults, ...props.data }\n          }\n          enableReinitialize\n          onSubmit={(values) => {\n            update({\n              old: props.data,\n              new: dataMapping.transform(values, definitions),\n            });\n            navigateBack();\n          }}\n        >\n          {(formikProps) => (\n            <Form className=\"flex flex-col flex-1\">\n              <TabbedMenu tabs={['PROPERTIES', 'PARAMETERS']}>\n                <div className=\"p-6\">\n                  {dataMapping.components.inspector({\n                    ...formikProps,\n                    definitions,\n                  })}\n                </div>\n                <div>parameters will go here!</div>\n              </TabbedMenu>\n\n              <span className=\"border border-circle-gray-300 mt-auto\" />\n              <button\n                type=\"submit\"\n                className=\"text-white text-sm font-medium p-2 m-6 bg-circle-blue duration:50 transition-all rounded-md2\"\n              >\n                Save {dataMapping?.name.singular}\n              </button>\n            </Form>\n          )}\n        </Formik>\n      )}\n    </div>\n  );\n};\n\nconst EditDefinitionMenuNav: NavigationComponent = {\n  Component: EditDefinitionMenu,\n  Label: (props: EditDefinitionProps) => (\n    <p>Edit {props.dataType?.name.singular}</p>\n  ),\n};\n\nexport default EditDefinitionMenuNav;\n","import ComponentMapping from '../../mappings/ComponentMapping';\nimport { useStoreActions } from '../../state/Hooks';\nimport EditDefinitionMenu from '../menus/definitions/EditDefinitionMenu';\n\nconst Definition = (props: { data: any; type: ComponentMapping }) => {\n  const Summary = props.type.components.summary;\n  const navigateTo = useStoreActions((actions) => actions.navigateTo);\n  const setDragging = useStoreActions((actions) => actions.setDragging);\n\n  return (\n    <button\n      className=\"w-full mb-2 p-2 text-sm cursor-pointer text-left text-circle-black \n      bg-white border border-circle-gray-300 rounded-md2\"\n      draggable=\"true\"\n      onDragStart={(e) => {\n        const type = props.type;\n\n        if (type?.dragTarget) {\n          setDragging({ dataType: type, data: props.data });\n        }\n      }}\n      onClick={(e) => {\n        navigateTo({\n          component: EditDefinitionMenu,\n          props: { data: props.data, dataType: props.type },\n        });\n      }}\n    >\n      <Summary data={props.data} />\n    </button>\n  );\n};\n\nexport default Definition;\n","import { FieldArray, useField } from 'formik';\nimport ComponentMapping from '../../mappings/ComponentMapping';\nimport ParameterMapping from '../../mappings/ParameterMapping';\nimport { useStoreActions } from '../../state/Hooks';\nimport { CreateDefinitionMenu } from '../menus/definitions/CreateDefinitionMenu';\nimport SubTypeMenuNav from '../menus/SubTypeMenu';\n\nconst ParameterContainer = (props: {\n  dataMapping: ComponentMapping;\n  values: any;\n}) => {\n  const [field] = useField(props.values.parameters);\n  const navigateTo = useStoreActions((actions) => actions.navigateTo);\n\n  return (\n    <FieldArray\n      {...field}\n      name=\"parameters\"\n      render={(arrayHelpers) => (\n        <div className=\"p-6 flex flex-col\">\n          <button\n            type=\"button\"\n            onClick={() => {\n              navigateTo({\n                component: SubTypeMenuNav,\n                props: {\n                  typePage: ParameterMapping.subtypes?.component,\n                  typeProps: { component: props.dataMapping },\n                  menuPage: CreateDefinitionMenu,\n                  menuProps: {\n                    dataType: ParameterMapping,\n                    passBackKey: 'parameters',\n                  },\n                },\n                values: {\n                  ...props.values,\n                },\n              });\n            }}\n            className=\"m-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium mb-4\"\n          >\n            Add Parameter\n          </button>\n          {props.values.parameters?.map((parameter: any) => (\n            <div\n              key={parameter.name}\n              className=\"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left\"\n            >\n              <div className=\"flex\">\n                <p className=\"font-bold\">{parameter.name}</p>\n              </div>\n              {parameter.description && (\n                <p className=\"text-sm mt-1 leading-4 whitespace-pre-wrap text-circle-gray-500\">\n                  {parameter.description}\n                </p>\n              )}\n              {parameter.defaultValue ? (\n                <p className=\"text-sm mt-1 leading-4 whitespace-pre-wrap text-circle-gray-500\">\n                  {parameter.description}\n                </p>\n              ) : (\n                <p className=\"text-sm mt-1 leading-4 whitespace-pre-wrap text-circle-gray-500\">\n                  Required\n                </p>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    />\n  );\n};\n\nexport default ParameterContainer;\n","import { Form, Formik } from 'formik';\nimport { useStoreActions, useStoreState } from '../../../state/Hooks';\nimport { DataModel, NavigationComponent } from '../../../state/Store';\nimport BreadCrumbs from '../../containers/BreadCrumbs';\nimport ParameterContainer from '../../containers/ParametersContainer';\nimport { SubTypeMenuPageProps } from '../SubTypeMenu';\nimport TabbedMenu from '../TabbedMenu';\n\ntype CreateDefinitionProps = DataModel & {\n  values: any;\n  passBackKey?: string;\n} & SubTypeMenuPageProps<any>;\n\nconst CreateDefinitionMenu = (props: CreateDefinitionProps) => {\n  const definitions = useStoreState((state) => state.definitions);\n  const generateConfig = useStoreActions((actions) => actions.generateConfig);\n  const navigateBack = useStoreActions((actions) => actions.navigateBack);\n  const dataMapping = props.dataType;\n  const add = useStoreActions(\n    (actions) => dataMapping?.store.add(actions) || actions.error,\n  );\n  const getIcon = (className: string) => {\n    let iconComponent = dataMapping?.components.icon;\n\n    if (iconComponent) {\n      let Icon = iconComponent;\n\n      return <Icon className={className} />;\n    }\n  };\n\n  const tabs = ['PROPERTIES'];\n\n  if (dataMapping?.parameters) {\n    tabs.push('PARAMETERS');\n  }\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      <header>\n        <BreadCrumbs />\n        <div className=\"ml-6 py-3 flex\">\n          {getIcon('w-8 h-8 p-1 pl-0 mr-1')}\n          <h1 className=\"text-2xl font-bold\">\n            New {dataMapping?.name.singular}\n          </h1>\n        </div>\n      </header>\n      {dataMapping && (\n        <Formik\n          initialValues={{\n            type: props.subtype,\n            ...(props.values ||\n              (props.subtype\n                ? dataMapping.defaults[props.subtype]\n                : dataMapping.defaults)),\n          }}\n          validateOnBlur\n          validate={(values) => {\n            const newDefinition = dataMapping.transform(values, definitions);\n\n            if (newDefinition) {\n              generateConfig({ [dataMapping.type]: [newDefinition] });\n            }\n          }}\n          enableReinitialize\n          onSubmit={(values) => {\n            const newDefinition = dataMapping.transform(values, definitions);\n\n            if (!props.passBackKey) {\n              add(newDefinition);\n            }\n            navigateBack({\n              distance: 1,\n              apply: (values) => {\n                if (props.passBackKey) {\n                  values[props.passBackKey] = [\n                    ...(values[props.passBackKey] || []),\n                    newDefinition,\n                  ];\n                }\n                return values;\n              },\n            });\n            generateConfig();\n          }}\n        >\n          {(formikProps) => (\n            <Form className=\"flex flex-col flex-1\">\n              <TabbedMenu tabs={tabs} activeTab={props.values?.activeTab || 0}>\n                <div className=\"p-6\">\n                  {dataMapping.subtypes && (\n                    <button\n                      className=\"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left\"\n                      type=\"button\"\n                      onClick={() => {\n                        props.selectSubtype();\n                      }}\n                    >\n                      <p className=\"font-bold\">\n                        {dataMapping.subtypes.definitions[props.subtype]?.text}\n                      </p>\n                      <p className=\"text-sm mt-1 leading-4 text-circle-gray-500\">\n                        {\n                          dataMapping.subtypes.definitions[props.subtype]\n                            ?.description\n                        }\n                      </p>\n                    </button>\n                  )}\n                  {dataMapping.components.inspector({\n                    ...formikProps,\n                    definitions,\n                    subtype: props.subtype,\n                  })}\n                </div>\n                {dataMapping.parameters ? (\n                  <ParameterContainer\n                    dataMapping={dataMapping}\n                    values={formikProps.values}\n                  />\n                ) : null}\n              </TabbedMenu>\n\n              <span className=\"border-b border-circle-gray-300 mt-auto\" />\n              <button\n                type=\"submit\"\n                className=\"text-white text-sm font-medium p-2 m-6 bg-circle-blue duration:50 transition-all rounded-md2\"\n              >\n                Save {dataMapping?.name.singular}\n              </button>\n            </Form>\n          )}\n        </Formik>\n      )}\n    </div>\n  );\n};\n\nconst CreateDefinitionMenuNav: NavigationComponent = {\n  Component: CreateDefinitionMenu,\n  Label: (props: CreateDefinitionProps) => {\n    return <p>New {props.dataType?.name.singular}</p>;\n  },\n  Icon: (props: CreateDefinitionProps) => {\n    let iconComponent = props.dataType?.components.icon;\n\n    if (!iconComponent) {\n      return null;\n    }\n\n    let DefinitionIcon = iconComponent;\n\n    return <DefinitionIcon className=\"w-6 h-8 py-2\" />;\n  },\n};\n\nexport { CreateDefinitionMenuNav, CreateDefinitionMenu };\n","import ComponentMapping from '../../mappings/ComponentMapping';\nimport { useStoreActions, useStoreState } from '../../state/Hooks';\nimport CollapsibleList from './CollapsibleList';\nimport Definition from '../atoms/Definition';\nimport {\n  CreateDefinitionMenu,\n  CreateDefinitionMenuNav,\n} from '../menus/definitions/CreateDefinitionMenu';\nimport SubTypeMenuNav from '../menus/SubTypeMenu';\n\nexport interface DefinitionsProps {\n  type: ComponentMapping;\n  expanded?: boolean;\n  onChange?: (expanded: boolean) => void;\n}\n\nconst DefinitionsContainer = (props: DefinitionsProps) => {\n  const items = useStoreState(props.type.store.get);\n  const navigateTo = useStoreActions((actions) => actions.navigateTo);\n\n  return (\n    <div className=\"w-full p-4 pb-0\">\n      <CollapsibleList\n        title={props.type.name.plural}\n        expanded={props.expanded}\n        onChange={props.onChange}\n        titleExpanded={\n          <button\n            onClick={() =>\n              navigateTo(\n                props.type.subtypes?.component\n                  ? {\n                      component: SubTypeMenuNav,\n                      props: {\n                        typePage: props.type.subtypes?.component,\n                        menuPage: CreateDefinitionMenu,\n                        menuProps: { dataType: props.type },\n                      },\n                    }\n                  : {\n                      component: CreateDefinitionMenuNav,\n                      props: { dataType: props.type },\n                    },\n              )\n            }\n            className=\"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium\"\n          >\n            New\n          </button>\n        }\n      >\n        <div className=\"w-full pl-2 pt-2\">\n          {(items || []).length > 0 ? (\n            items?.map((item) => (\n              <Definition data={item} key={item.name} type={props.type} />\n            ))\n          ) : (\n            <div className=\"font-medium text-sm text-circle-gray-500\">\n              No {props.type.name.plural} found.\n            </div>\n          )}\n        </div>\n      </CollapsibleList>\n      <div className=\"w-full p-2 border-b border-circle-gray-300\"></div>\n    </div>\n  );\n};\n\nexport default DefinitionsContainer;\n","import { Form, Formik } from 'formik';\nimport React from 'react';\nimport WorkflowIcon from '../../../icons/components/WorkflowIcon';\nimport { dataMappings } from '../../../mappings/ComponentMapping';\nimport { useStoreActions, useStoreState } from '../../../state/Hooks';\nimport { NavigationComponent } from '../../../state/Store';\nimport InspectorProperty from '../../atoms/form/InspectorProperty';\nimport DefinitionsContainer from '../../containers/DefinitionsContainer';\nimport TabbedMenu from '../TabbedMenu';\n\n/**\n * @see\n * @returns\n */\nconst DefinitionsMenu = (props: { expanded: boolean[] }) => {\n  /* TODO: DETERMINE PARAMETERS\n  const parameters = useStoreState((state) => state.parameters); \n  const defineParameter = useStoreActions((actions) => actions.defineParameter); */\n  // const generateConfig = useStoreActions((actions) => actions.generateConfig);\n  const workflowGraphs = useStoreState((state) => state.workflows);\n  const selectedWorkflow = useStoreState((state) => state.selectedWorkflow);\n  const updateConfig = useStoreActions((actions) => actions.generateConfig);\n  const persistProps = useStoreActions((actions) => actions.persistProps);\n  const workflow = workflowGraphs[selectedWorkflow];\n\n  return (\n    <div className=\"h-full bg-white flex flex-col overflow-y-auto\">\n      <header className=\"ml-4 mb-4 flex\">\n        <WorkflowIcon className=\"w-8 h-8 p-1 mr-1\" />\n        <h1 className=\"text-2xl font-bold\">{workflow.name}</h1>\n      </header>\n\n      <TabbedMenu tabs={['DEFINITIONS', 'PROPERTIES']}>\n        <div className=\"p-2 flex-1 h-full w-full flex-col\">\n          {dataMappings.map((mapping, index) => {\n            const dataType = mapping.mapping;\n\n            return (\n              <DefinitionsContainer\n                type={dataType}\n                expanded={props.expanded[index]}\n                onChange={(isExpanded) => {\n                  persistProps({\n                    ...props,\n                    expanded: props.expanded.map((expanded, i) =>\n                      i === index ? isExpanded : expanded,\n                    ),\n                  });\n                }}\n                key={dataType.name.plural}\n              />\n            );\n          })}\n        </div>\n        <div className=\"p-6\">\n          <Formik\n            initialValues={{ name: workflow.name }}\n            enableReinitialize\n            onSubmit={(values) => {}}\n          >\n            {(formikProps) => (\n              <Form className=\"flex flex-col flex-1\">\n                <InspectorProperty label=\"Name\" name=\"name\" />\n              </Form>\n            )}\n          </Formik>\n        </div>\n      </TabbedMenu>\n\n      <span className=\"border-b border-circle-gray-300\" />\n      <button\n        className=\"text-white text-sm font-medium p-2 m-6 bg-circle-blue duration:50 transition-all rounded-md2\"\n        onClick={(e) => updateConfig()}\n      >\n        Generate Config\n      </button>\n    </div>\n  );\n};\n\nconst DefinitionsMenuNav: NavigationComponent = {\n  Component: DefinitionsMenu,\n  Label: (props: { expanded: boolean[] }) => <p>Definitions</p>,\n};\n\nexport default DefinitionsMenuNav;\n","import {\n  Config,\n  Job,\n  parameters,\n  Workflow,\n} from '@circleci/circleci-config-sdk';\nimport { CustomCommand } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Commands/exports/Reusable';\nimport { ReusableExecutor } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Executor';\nimport { CustomParameter } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Parameters';\nimport { PipelineParameterLiteral } from '@circleci/circleci-config-sdk/dist/src/lib/Components/Parameters/types/CustomParameterLiterals.types';\nimport { Action, action } from 'easy-peasy';\nimport { MutableRefObject } from 'react';\nimport {\n  Elements,\n  FlowElement,\n  isNode,\n  Node,\n  SetConnectionId,\n  XYPosition,\n} from 'react-flow-renderer';\nimport { v4 } from 'uuid';\nimport DefinitionsMenu from '../components/menus/definitions/DefinitionsMenu';\nimport ComponentMapping from '../mappings/ComponentMapping';\nimport JobMapping from '../mappings/JobMapping';\n\nexport interface WorkflowModel {\n  name: string;\n  id: string;\n  elements: Elements<any>;\n}\n\n/** Reusable definitions of CircleCIConfigObject */\nexport interface DefinitionModel /*extends CircleCIConfigObject*/ {\n  parameters: CustomParameter<PipelineParameterLiteral>[];\n  executors: ReusableExecutor[];\n  jobs: Job[];\n  commands: CustomCommand[];\n  workflows: Workflow[];\n}\n\nexport interface DataModel {\n  data?: any;\n  dataType?: ComponentMapping;\n}\n\nexport interface NavigationModel extends NavigationStop {\n  jumpedFrom?: NavigationStop;\n  from?: NavigationModel;\n}\n\nexport interface NavigationComponent {\n  Icon?: React.FunctionComponent<any>;\n  Component: React.FunctionComponent<any>;\n  Label: React.FunctionComponent<any>;\n}\n\nexport interface NavigationStop {\n  component: NavigationComponent;\n  props: any;\n}\n\nexport interface StoreModel {\n  /** Last generated configuration */\n  config: string | undefined;\n  editingConfig: string | undefined;\n  /** Last generated configuration */\n  definitions: DefinitionModel;\n\n  placeholder?: { index: number; id: string };\n  /** Array of workflow panes */\n  workflows: WorkflowModel[];\n  /** Order of components and the  */\n  navigation: NavigationModel;\n  /**  */\n  dragging?: DataModel;\n  connecting?: {\n    start?: {\n      ref?: MutableRefObject<any>;\n      id: SetConnectionId;\n      name?: string;\n    };\n    end?: {\n      id: SetConnectionId;\n      pos?: XYPosition;\n      ref?: MutableRefObject<any>;\n      name?: string;\n    };\n  };\n  /** Currently selected workflow pane index */\n  selectedWorkflow: number;\n}\n\nexport interface UpdateType<T> {\n  old: T;\n  new: T;\n}\n\nexport interface StoreActions {\n  persistProps: Action<StoreModel, unknown>;\n  setDragging: Action<StoreModel, DataModel | undefined>;\n  setConnecting: Action<\n    StoreModel,\n    {\n      ref?: MutableRefObject<any>;\n      id: SetConnectionId;\n      name?: string;\n    }\n  >;\n  updateConnecting: Action<\n    StoreModel,\n    | {\n        ref?: MutableRefObject<any>;\n        id: SetConnectionId;\n        pos?: XYPosition;\n        name?: string;\n      }\n    | undefined\n  >;\n\n  setPlaceholder: Action<StoreModel, Node<any>>;\n\n  navigateTo: Action<StoreModel, NavigationStop & { values?: any }>;\n  navigateBack: Action<\n    StoreModel,\n    { distance?: number; apply?: (values: any) => any } | void\n  >;\n\n  addWorkflow: Action<StoreModel, string>;\n  selectWorkflow: Action<StoreModel, number>;\n  removeWorkflow: Action<StoreModel, WorkflowModel>;\n\n  addWorkflowElement: Action<StoreModel, FlowElement<any>>;\n  removeWorkflowElement: Action<StoreModel, FlowElement<any>>;\n  setWorkflowElements: Action<StoreModel, Elements<any>>;\n\n  defineJob: Action<StoreModel, Job>;\n  updateJob: Action<StoreModel, UpdateType<Job>>;\n\n  /** @todo implement job removal */\n  undefineJob: Action<StoreModel, Job>;\n\n  /** @todo implement commands */\n  defineCommand: Action<StoreModel, CustomCommand>;\n  updateCommand: Action<StoreModel, UpdateType<CustomCommand>>;\n  undefineCommand: Action<StoreModel, CustomCommand>;\n\n  defineExecutor: Action<StoreModel, ReusableExecutor>;\n  updateExecutor: Action<StoreModel, UpdateType<ReusableExecutor>>;\n  undefineExecutor: Action<StoreModel, ReusableExecutor>;\n\n  /** @todo implement parameters */\n  defineParameter: Action<\n    StoreModel,\n    CustomParameter<PipelineParameterLiteral>\n  >;\n  updateParameter: Action<\n    StoreModel,\n    UpdateType<CustomParameter<PipelineParameterLiteral>>\n  >;\n  undefineParameter: Action<\n    StoreModel,\n    CustomParameter<PipelineParameterLiteral>\n  >;\n\n  generateConfig: Action<StoreModel, void | Partial<DefinitionModel>>;\n  error: Action<StoreModel, any>;\n}\n\nconst Actions: StoreActions = {\n  persistProps: action((state, payload) => {\n    state.navigation = { ...state.navigation, props: payload };\n  }),\n  setConnecting: action((state, payload) => {\n    if (payload.ref) {\n      state.connecting = {\n        start: payload,\n      };\n    } else {\n      state.connecting = undefined;\n    }\n  }),\n  updateConnecting: action((state, payload) => {\n    if (state.connecting?.start) {\n      state.connecting = {\n        start: state.connecting.start,\n        end: payload,\n      };\n    }\n  }),\n  setPlaceholder: action((state, payload) => {\n    const workflow = state.workflows[state.selectedWorkflow];\n    if (state.placeholder /** && payload.overwrite */) {\n      state.workflows[state.selectedWorkflow] = {\n        ...workflow,\n        elements: workflow.elements.map((element) =>\n          element.id === state.placeholder?.id ? payload : element,\n        ),\n      };\n    } else {\n      workflow.elements.push(payload);\n    }\n\n    state.placeholder = {\n      index: workflow.elements.length - 1,\n      id: workflow.id,\n    };\n  }),\n\n  navigateTo: action((state, payload) => {\n    const curNav = state.navigation;\n\n    if (curNav.jumpedFrom) {\n      state.navigation.jumpedFrom = undefined;\n    }\n\n    state.navigation = {\n      ...payload,\n      from: {\n        ...curNav,\n        props: { ...curNav.props, values: payload.values },\n      },\n    };\n  }),\n\n  navigateBack: action((state, payload) => {\n    const distance = payload?.distance || 1;\n\n    if (state.navigation.from) {\n      let travelTo = state.navigation;\n\n      for (let i = 0; i < distance; i++) {\n        if (travelTo.from) {\n          travelTo = travelTo.from;\n        } else {\n          throw new Error('Tried to navigate back to an undefined component!');\n        }\n      }\n\n      state.navigation = {\n        ...travelTo,\n        props: {\n          ...travelTo.props,\n          values:\n            payload?.apply?.(travelTo.props.values) || travelTo.props.values,\n        },\n        jumpedFrom: distance > 1 ? state.navigation : undefined,\n      };\n    } else {\n      state.navigation = { component: DefinitionsMenu, props: {} };\n    }\n  }),\n\n  setDragging: action((state, payload) => {\n    state.dragging = payload;\n  }),\n\n  addWorkflow: action((state, name) => {\n    state.workflows = state.workflows.concat({\n      name,\n      id: v4(),\n      elements: [],\n    });\n  }),\n  selectWorkflow: action((state, index) => {\n    state.selectedWorkflow = index;\n  }),\n  removeWorkflow: action((state, payload) => {\n    state.workflows = state.workflows.filter(\n      (workflow) => workflow.id !== payload.id,\n    );\n  }),\n\n  addWorkflowElement: action((state, payload) => {\n    const workflow = state.workflows[state.selectedWorkflow];\n\n    workflow.elements.push(payload);\n  }),\n  removeWorkflowElement: action((state, payload) => {}),\n  setWorkflowElements: action((state, payload) => {\n    state.workflows[state.selectedWorkflow].elements = payload;\n  }),\n\n  defineJob: action((state, payload) => {\n    state.definitions.jobs?.push(payload);\n  }),\n  updateJob: action((state, payload) => {\n    if (state.definitions.jobs) {\n      const workflows = state.workflows[state.selectedWorkflow];\n\n      workflows.elements = workflows.elements.map((e) =>\n        isNode(e) && e.type === 'job' && e.data.job.name === payload.old.name\n          ? { ...e, data: { ...e.data, job: payload.new } }\n          : e,\n      );\n\n      state.definitions.jobs = state.definitions.jobs.map((job) =>\n        job.name === payload.old.name ? payload.new : job,\n      );\n    }\n  }),\n  undefineJob: action((state, payload) => {\n    state.definitions.jobs = state.definitions.jobs?.filter(\n      (job) => job.name === payload.name,\n    );\n  }),\n\n  defineExecutor: action((state, payload) => {\n    state.definitions.executors = state.definitions.executors?.concat(payload);\n  }),\n  /** @todo fix updating executors since reusable executors have been removed.*/\n  updateExecutor: action((state, payload) => {\n    if (state.definitions.executors) {\n      // const index = state.definitions.executors.findIndex((executor) => executor.name === payload.name)\n      // state.definitions.executors[index] = payload;\n    }\n  }),\n  undefineExecutor: action((state, payload) => {\n    state.definitions.executors?.filter(\n      (executor) => executor.name !== payload.name,\n    );\n  }),\n\n  defineParameter: action((state, payload) => {\n    state.definitions.parameters =\n      state.definitions.parameters?.concat(payload);\n  }),\n  updateParameter: action((state, payload) => {}),\n  undefineParameter: action((state, payload) => {\n    state.definitions.parameters?.filter(\n      (parameter) => parameter.name !== payload.name,\n    );\n  }),\n\n  defineCommand: action((state, payload) => {\n    state.definitions.commands = state.definitions.commands?.concat(payload);\n  }),\n  updateCommand: action((state, payload) => {}),\n  undefineCommand: action((state, payload) => {\n    state.definitions.commands?.filter(\n      (command) => command.name !== payload.name,\n    );\n  }),\n\n  error: action((state, payload) => {\n    console.error('An action was not found! ', payload);\n  }),\n\n  generateConfig: action((state, payload) => {\n    const workflows = state.workflows.map((flow) => {\n      const jobs = flow.elements\n        .filter((element) => element.type === JobMapping.type)\n        .map((element) => element.data);\n\n      return new Workflow(flow.name, jobs);\n    });\n\n    const defs = state.definitions;\n    const config = new Config(\n      false,\n      payload?.jobs ? [...defs.jobs, ...payload.jobs] : defs.jobs,\n      workflows,\n      payload?.executors\n        ? [...defs.executors, ...payload.executors]\n        : defs.executors,\n      payload?.commands\n        ? [...defs.commands, ...payload.commands]\n        : defs.commands,\n      defs.parameters.length > 0\n        ? new parameters.CustomParametersList<PipelineParameterLiteral>(\n            payload?.parameters\n              ? [...defs.parameters, ...payload.parameters]\n              : defs.parameters,\n          )\n        : undefined,\n    );\n\n    if (payload) {\n      state.editingConfig = config.stringify();\n    } else {\n      state.config = config.stringify();\n      state.editingConfig = undefined;\n    }\n  }),\n};\n\nconst Store: StoreModel & StoreActions = {\n  selectedWorkflow: 0,\n  editingConfig: undefined,\n  config: undefined,\n  navigation: {\n    component: DefinitionsMenu,\n    props: { expanded: [true, true, false, false] },\n  },\n  definitions: {\n    commands: [],\n    executors: [],\n    jobs: [],\n    workflows: [],\n    parameters: [],\n  },\n  workflows: [\n    {\n      name: 'build-and-test',\n      elements: [],\n      id: v4(),\n    },\n  ],\n  ...Actions,\n};\n\nexport default Store;\n","import { createStore, StoreProvider } from 'easy-peasy';\nimport EditorPane from './components/panes/EditorPane';\nimport NavigationPane from './components/panes/NavigationPane';\nimport WorkflowsPane from './components/panes/WorkflowsPane';\nimport Store from './state/Store';\n\n\nconst App = () => {\n  return (\n    <StoreProvider store={createStore(Store)}>\n      <section className=\"flex flex-row h-full\">\n        <section className=\"flex flex-col flex-nowrap flex-1\">\n          <WorkflowsPane />\n          <EditorPane />\n        </section>\n        <NavigationPane />\n      </section>\n    </StoreProvider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}